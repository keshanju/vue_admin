(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-004498b8"],{"417d":function(e,t,n){"use strict";var r=n("6c85"),a=n.n(r);function i(e){if(a()(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}var o=n("ab6b"),s=n.n(o),u=n("ad81"),c=n.n(u);function l(e){if(c()(Object(e))||"[object Arguments]"===Object.prototype.toString.call(e))return s()(e)}function p(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function h(e){return i(e)||l(e)||p()}n.d(t,"a",function(){return h})},"50cd":function(e,t,n){"use strict";var r=n("4cf4"),a=n("0763");e.exports=function(e,t,n){t in e?r.f(e,t,a(0,n)):e[t]=n}},"8af1":function(e,t,n){"use strict";var r=n("8232"),a=n("471d"),i=n("7182"),o=n("44a7"),s=n("33ef"),u=n("3202"),c=n("50cd"),l=n("0811");a(a.S+a.F*!n("1969")(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,a,p,h=i(e),d="function"==typeof this?this:Array,f=arguments.length,v=f>1?arguments[1]:void 0,b=void 0!==v,m=0,w=l(h);if(b&&(v=r(v,f>2?arguments[2]:void 0,2)),void 0==w||d==Array&&s(w))for(t=u(h.length),n=new d(t);t>m;m++)c(n,m,b?v(h[m],m):h[m]);else for(p=w.call(h),n=new d;!(a=p.next()).done;m++)c(n,m,b?o(p,v,[a.value,m],!0):a.value);return n.length=m,n}})},"92dd":function(e,t,n){n("4d6c"),n("8af1"),e.exports=n("836e").Array.from},"97b2":function(e,t,n){var r=n("419b"),a=n("0902")("iterator"),i=n("9191");e.exports=n("836e").isIterable=function(e){var t=Object(e);return void 0!==t[a]||"@@iterator"in t||i.hasOwnProperty(r(t))}},a945:function(e,t,n){n("98be"),n("4d6c"),e.exports=n("97b2")},ab6b:function(e,t,n){e.exports=n("92dd")},ad81:function(e,t,n){e.exports=n("a945")},d84a:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("DxDataGrid",{ref:e.dxDataGridKey1}),n("CreateHtml",{ref:"CreateHtml1"}),n("DxChart",{ref:"DxChartHtml"})],1)},a=[],i=(n("4453"),n("ee95")),o=n("eb12"),s=n("ba94"),u=n("5ee8"),c=n("4e86"),l=n("5bc3"),p=n("3a61"),h=n("b2e6"),d=n("74a9"),f=n("a60a"),v=n.n(f),b=n("1639"),m=n("efee"),w=n("e38e"),x=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(u["a"])(this,Object(c["a"])(t).apply(this,arguments)),e.dxDataGridKey1="dxDataGridKey1",e.newsAPI=new m["a"],e.show_create_html=!1,e}return Object(l["a"])(t,e),Object(s["a"])(t,[{key:"mounted",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$parent.content_title="标签管理",this.initComponents(),this.getDataList();case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"initComponents",value:function(){this.dxDataGrid1=this.getDxInstanceByKey(this.dxDataGridKey1);var e=this.getDxInstanceByKey("DxChartHtml");e.option({dataSource:this.aaa(),series:{argumentField:"people_num",valueField:"count",negativesAsZeroes:!0}});var t=[{dataField:"id",caption:"编号",width:80},{allowFiltering:!0,allowSorting:!0,dataField:"group",caption:"标签组",width:120},{allowFiltering:!0,allowSorting:!0,dataField:"label",caption:"标签",width:120},{dataField:"desc",caption:"描述",width:200},{dataField:"label_sort",caption:"排序",width:50},{dataField:"create_time",caption:"创建时间",width:160},{dataField:"create_staff_name",caption:"创建人",width:80},{dataField:"change_time",caption:"更新时间",width:160},{dataField:"change_staff_name",caption:"更新人",width:80},{fixed:!0,fixedPosition:"right",dataField:"id",alignment:"center",caption:"操作",width:200,cellTemplate:this.CellEdit}],n=this.getDataGridOption({onToolbarPreparing:this.onToolbarPreparingHandler,columns:t,onRowClick:this.onRowClickHandler});this.dxDataGrid1.option(n)}},{key:"aaa",value:function(){var e=[{people_num:"Apples",count:1},{people_num:"Oranges",count:2},{people_num:"Lemons",count:3},{people_num:"Pears",count:4},{people_num:"Pineapples",count:1e3},{people_num:"1",count:5},{people_num:"2",count:4},{people_num:"3",count:3},{people_num:"4",count:2},{people_num:"5",count:1}];return console.log(e),e}},{key:"onRowClickHandler",value:function(e){var t=this;this.dbClick(function(){t.redirect("/sell/news/label/edit/"+e.key.id)})}},{key:"CellEdit",value:function(e,t){var n=this,r=this.getCreateLink("编辑",function(e){n.redirect("/sell/news/label/edit/"+t.value)}),a=this.getCreateLink("删除",function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(r){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.delLabel(t.value);case 2:n.getDataList();case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());v()("<div>").append(r).append(" | ").append(a).appendTo(e)}},{key:"delLabel",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.confirm("确认删除？");case 2:if(!e.sent){e.next=5;break}return e.next=5,this.newsAPI.deleteNewsLabel(t);case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"onToolbarPreparingHandler",value:function(e){var t=this,n=(e.component,e.toolbarOptions.items);n.push({location:"before",widget:"dxButton",options:{text:"添加",icon:"add",onClick:this.onAddHandler}}),n.push({location:"before",widget:"dxButton",options:{text:"刷新",icon:"refresh",onClick:this.onRefreshHandler}}),this.createSearchToolbars(n,this.dxDataGrid1.option("columns"),function(){t.getDataList()})}},{key:"onRefreshHandler",value:function(e){this.dxDataGrid1.refresh()}},{key:"onAddHandler",value:function(e){this.redirect("/sell/news/label/edit")}},{key:"getDataList",value:function(){var e=this,t=this.getDataGridPager(function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(n,r,a){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.newsAPI.getLabelList(n,r,a);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)}));return function(e,n,r){return t.apply(this,arguments)}}());this.dxDataGrid1.option({remoteOperations:!0,dataSource:t})}}]),t}(b["a"]);x=p["a"]([Object(h["a"])({components:{DxDataGrid:d["DxDataGrid"],DxForm:d["DxForm"],CreateHtml:w["a"],DxChart:d["DxChart"]}})],x);var g=x,k=g,y=k,D=n("17cc"),O=Object(D["a"])(y,r,a,!1,null,null,null);t["default"]=O.exports},e38e:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("dx-popup",{ref:"dxPopup1",attrs:{visible:e.options.visible,title:e.options.title,width:"300",height:"150"},on:{"update:visible":function(t){return e.$set(e.options,"visible",t)}}},[n("dx-scroll-view",[n("DxForm",{ref:"DxForm1"})],1)],1)],1)},a=[],i=(n("48fb"),n("4453"),n("ee95")),o=n("417d"),s=n("eb12"),u=n("ba94"),c=n("5ee8"),l=n("4e86"),p=n("5bc3"),h=n("3a61"),d=n("b2e6"),f=n("74a9"),v=n("1639"),b=n("4c5d"),m=n("efee"),w=n("9b13"),x=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(c["a"])(this,Object(l["a"])(t).apply(this,arguments)),e.options={title:"生成静态",visible:!1,toolbarItems:[]},e.formData1={},e}return Object(p["a"])(t,e),Object(u["a"])(t,[{key:"mounted",value:function(){this.dxForm1=this.getDxInstanceByKey("DxForm1");var e=[{id:-1,name:"全部分类"}].concat(Object(o["a"])(b["a"].getDictonary().data.class_type));this.dxForm1.option({formData:this.formData1,items:[{dataField:"class_type",label:{text:"类别"},editorType:"dxSelectBox",editorOptions:{placeholder:"请选择分类类别",displayExpr:"name",valueExpr:"id",value:-1,dataSource:e},validationRules:[]}]}),this.initToolbarItems()}},{key:"initToolbarItems",value:function(){var e=this;this.options.toolbarItems.push({location:"after",toolbar:"bottom",widget:"dxButton",options:{text:"生成静态",type:"success",onClick:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(n){var r,a,i,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=n.component,t.prev=1,r.option({disabled:!0}),a=e.formData1.class_type,i=a.toString(),t.next=7,(new m["a"]).createNewsJson(i);case 7:o=t.sent,o.code==w["a"].OK||o.code==w["a"].isSame||o.code==w["a"].isSameSaveData?(r.option({disabled:!1}),e.toast(function(){},"生成静态成功!"),e.hide()):(r.option({disabled:!1}),e.errorCodeMsg(o.code,o.msg)),t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](1),r.option({disabled:!1}),e.error(t.t0);case 15:case"end":return t.stop()}},t,null,[[1,11]])}));function n(e){return t.apply(this,arguments)}return n}()}}),this.options.toolbarItems.push({location:"after",toolbar:"bottom",widget:"dxButton",options:{text:"取消",type:"normal",onClick:function(t){e.hide()}}});var t=this.getDxInstanceByKey("dxPopup1");t.option({toolbarItems:this.options.toolbarItems})}},{key:"show",value:function(){this.options.visible=!0}},{key:"hide",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.options.visible=!1,this.options.onHide&&this.options.onHide(e)}}]),t}(v["a"]);x=h["a"]([Object(d["a"])({components:{DxDataGrid:f["DxDataGrid"],DxForm:f["DxForm"],DxPopup:f["DxPopup"],DxScrollView:f["DxScrollView"]}})],x);var g=x,k=g,y=n("17cc"),D=Object(y["a"])(k,r,a,!1,null,null,null);t["a"]=D.exports},efee:function(e,t,n){"use strict";n.d(t,"a",function(){return l});n("4453");var r=n("ee95"),a=n("eb12"),i=n("ba94"),o=n("5ee8"),s=n("4e86"),u=n("5bc3"),c=n("f322"),l=function(e){function t(){return Object(a["a"])(this,t),Object(o["a"])(this,Object(s["a"])(t).apply(this,arguments))}return Object(u["a"])(t,e),Object(i["a"])(t,[{key:"getListPager",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){var t,n,r,a,i,o=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:"",n=o.length>1&&void 0!==o[1]?o[1]:15,r=o.length>2&&void 0!==o[2]?o[2]:1,a="/staff/news?account_token="+this.token+"&size="+n+"&page="+r+t,e.next=6,this.httpGet(a);case 6:return i=e.sent,e.abrupt("return",i);case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"getLabelList",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){var t,n,r,a,i,o=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:"",n=o.length>1&&void 0!==o[1]?o[1]:15,r=o.length>2&&void 0!==o[2]?o[2]:1,a="/staff/news/label?account_token="+this.token+"&size="+n+"&page="+r+t,e.next=6,this.httpGet(a);case 6:return i=e.sent,e.abrupt("return",i);case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"getLableDetail",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n,r,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n="/staff/news/label/"+t,r="account_token="+this.token,e.next=4,this.httpGet(n+"?"+r);case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"setUpdateNewsLabel",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t,n){var r,a,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r="/staff/news/label/"+t,a=n,e.next=4,this.httpPut(r,a);case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"setAddNewsLabel",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n,r,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n="/staff/news/label",r=t,e.next=4,this.httpPost(n,r);case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"deleteNewsLabel",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n,r,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n="/staff/news/label/"+t,r="account_token="+this.token,e.next=4,this.httpDelete(n+"?"+r);case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getList",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){var t,n,r=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r.length>0&&void 0!==r[0]?r[0]:"",t="/staff/news/lists?account_token="+this.token,e.next=4,this.httpGet(t);case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"setAdd",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n,r,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n="/staff/news",r=t,e.next=4,this.httpPost(n,r);case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"setUpdate",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t,n){var r,a,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r="/staff/news/"+t,a=n,e.next=4,this.httpPut(r,a);case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"setDelete",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n="/staff/news/"+t,r="account_token="+this.token+"&ids="+t,e.next=4,this.httpDelete(n+"?"+r);case 4:e.sent;case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getModel",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n,r,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n="/staff/news/"+t,r="account_token="+this.token,e.next=4,this.httpGet(n+"?"+r);case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"createNewsJson",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){var t,n,r,a,i=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:"",n="/staff/cms/statics/news_json_list",r="account_token="+this.token+"&class_type="+t,e.next=5,this.httpPost(n,r);case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"createNewsDetails",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n,r,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n="/staff/cms/statics/news_info",r="account_token="+this.token+"&news_ids="+t,e.next=4,this.httpPost(n,r);case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"reCreateAllNewsDetails",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t="/staff/queue/cms/statics/news_info",n="account_token="+this.token,e.next=4,this.httpPost(t,n);case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}]),t}(c["a"])}}]);