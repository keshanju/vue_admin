(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1676b7e4"],{5397:function(t,e,n){"use strict";n.d(e,"a",function(){return l});n("4453");var a=n("ee95"),r=n("eb12"),i=n("ba94"),o=n("5ee8"),s=n("4e86"),c=n("5bc3"),u=n("f322"),l=function(t){function e(){return Object(r["a"])(this,e),Object(o["a"])(this,Object(s["a"])(e).apply(this,arguments))}return Object(c["a"])(e,t),Object(i["a"])(e,[{key:"getListPager",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(){var e,n,a,r,i,o=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=o.length>0&&void 0!==o[0]?o[0]:"",n=o.length>1&&void 0!==o[1]?o[1]:15,a=o.length>2&&void 0!==o[2]?o[2]:1,r="/staff/version?account_token="+this.token+"&size="+n+"&page="+a+e,t.next=6,this.httpGet(r);case 6:return i=t.sent,t.abrupt("return",i);case 8:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"getList",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(){var e,n,a=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a.length>0&&void 0!==a[0]?a[0]:"",e="/staff/version?account_token="+this.token,t.next=4,this.httpGet(e);case 4:return n=t.sent,t.abrupt("return",n);case 6:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"setAdd",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(e){var n,a,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n="/staff/version",a=e,t.next=4,this.httpPost(n,a);case 4:return r=t.sent,t.abrupt("return",r);case 6:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},{key:"setUpdate",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(e,n){var a,r,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a="/staff/version/"+e,r=n,t.next=4,this.httpPut(a,r);case 4:return i=t.sent,t.abrupt("return",i);case 6:case"end":return t.stop()}},t,this)}));function e(e,n){return t.apply(this,arguments)}return e}()},{key:"setDelete",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(e){var n,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n="/staff/version/"+e,a="account_token="+this.token+"&ids="+e,t.next=4,this.httpDelete(n+"?"+a);case 4:t.sent;case 5:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},{key:"getModel",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(e){var n,a,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n="/staff/version/"+e,a="account_token="+this.token,t.next=4,this.httpGet(n+"?"+a);case 4:return r=t.sent,t.abrupt("return",r);case 6:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()}]),e}(u["a"])},c307:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("DxDataGrid",{ref:t.dxDataGridKey1})],1)},r=[],i=(n("4453"),n("ee95")),o=n("eb12"),s=n("ba94"),c=n("5ee8"),u=n("4e86"),l=n("5bc3"),p=n("3a61"),d=n("b2e6"),h=n("74a9"),f=n("a60a"),v=n.n(f),g=n("1639"),w=n("5397"),m=n("4c5d"),b=function(t){function e(){var t;return Object(o["a"])(this,e),t=Object(c["a"])(this,Object(u["a"])(e).apply(this,arguments)),t.dxDataGridKey1="dxDataGrid_Key_1",t.versionApi=new w["a"],t}return Object(l["a"])(e,t),Object(s["a"])(e,[{key:"mounted",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.$parent.content_title="版本升级",this.initComponent(),this.getDataList();case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"initComponent",value:function(){this.dxDataGrid1=this.getDxInstanceByKey(this.dxDataGridKey1);var t=[{dataField:"id",caption:"编号",width:80},{dataField:"app_platform_type",caption:"平台类型",width:80,cellTemplate:function(t,e){v()("<span>").append(m["a"].getDicText(m["a"].getDictonary().data.app_platform_type,e.value)).appendTo(t)}},{dataField:"lang_type",caption:"语言版本",width:80,cellTemplate:function(t,e){v()("<span>").append(m["a"].getDicText(m["a"].getDictonary().data.user_lang,e.value)).appendTo(t)}},{dataField:"is_enterprise",caption:"企业版",width:80,cellTemplate:function(t,e){v()("<span>").append(m["a"].getDicText(m["a"].getDictonary().data.flag,e.value)).appendTo(t)}},{allowFiltering:!0,allowSorting:!0,dataField:"buildnum",caption:"编译版本",width:170},{allowFiltering:!0,allowSorting:!0,dataField:"gamelib_version",caption:"游戏库版本",width:170},{dataField:"upgrade_remark",caption:"更新说明",width:170},{allowFiltering:!0,allowSorting:!0,dataField:"min_upgrade_app_version",caption:"最小可升级的版本",width:170},{allowFiltering:!0,allowSorting:!0,dataField:"not_upgrade_fail_url",caption:"不能升级的版本打开网页",width:170},{allowFiltering:!0,allowSorting:!0,dataField:"app_version",caption:"主程序版本",width:170},{dataField:"base_remote_url",caption:"打包路径基网址",width:170},{dataField:"create_time",caption:"创建时间",width:160}],e=this.getDataGridOption({onToolbarPreparing:this.onToolbarPreparingHandler,columns:t,onRowClick:this.onRowClickHandler});this.dxDataGrid1.option(e)}},{key:"onRowClickHandler",value:function(t){var e=this;this.dbClick(function(){e.redirect("/system/version/edit/"+t.key.id)})}},{key:"onToolbarPreparingHandler",value:function(t){var e=this,n=(t.component,t.toolbarOptions.items);n.push({location:"before",widget:"dxButton",options:{text:"添加",icon:"add",onClick:this.onAddHandler}}),n.push({location:"before",widget:"dxButton",options:{icon:"refresh",text:"刷新",onClick:this.onRefreshHandler}}),this.createSearchToolbars(n,this.dxDataGrid1.option("columns"),function(){e.getDataList()})}},{key:"onAddHandler",value:function(t){this.redirect("/system/version/edit")}},{key:"onRefreshHandler",value:function(t){this.dxDataGrid1.refresh()}},{key:"getDataList",value:function(){var t=this,e=this.getDataGridPager(function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(n,a,r){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.versionApi.getListPager(n,a,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,n,a){return e.apply(this,arguments)}}());this.dxDataGrid1.option({remoteOperations:!0,dataSource:e})}}]),e}(g["a"]);b=p["a"]([Object(d["a"])({components:{DxDataGrid:h["DxDataGrid"],DxForm:h["DxForm"],DxTreeView:h["DxTreeView"]}})],b);var k=b,x=k,y=x,D=n("17cc"),_=Object(D["a"])(y,a,r,!1,null,null,null);e["default"]=_.exports}}]);