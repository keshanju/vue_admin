(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1beba100"],{"44eb":function(t,e,n){"use strict";n.d(e,"a",function(){return d});n("4453");var r=n("ee95"),i=n("eb12"),a=n("ba94"),o=n("5ee8"),s=n("4e86"),c=n("5bc3"),u=n("f322"),d=function(t){function e(){return Object(i["a"])(this,e),Object(o["a"])(this,Object(s["a"])(e).apply(this,arguments))}return Object(c["a"])(e,t),Object(a["a"])(e,[{key:"GSettingListPager",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,n,r,i,a,o=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=o.length>0&&void 0!==o[0]?o[0]:"",n=o.length>1&&void 0!==o[1]?o[1]:15,r=o.length>2&&void 0!==o[2]?o[2]:1,i="/staff/setting?account_token="+this.token+"&size="+n+"&page="+r+e,t.next=6,this.httpGet(i);case 6:return a=t.sent,t.abrupt("return",a);case 8:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"gsettingAdd",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var n,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n="/staff/setting",t.next=3,this.httpPost(n,e);case 3:return r=t.sent,t.abrupt("return",r);case 5:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},{key:"gsettingUpdate",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e,n){var r,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r="/staff/setting/"+e,t.next=3,this.httpPut(r,n);case 3:return i=t.sent,t.abrupt("return",i);case 5:case"end":return t.stop()}},t,this)}));function e(e,n){return t.apply(this,arguments)}return e}()},{key:"getGSettingModel",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var n,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n="/staff/setting/"+e+"?account_token="+this.token,t.next=3,this.httpGet(n);case 3:return r=t.sent,t.abrupt("return",r);case 5:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()}]),e}(u["a"])},"81d1":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("DxDataGrid",{ref:t.dxDataGridKey1})],1)},i=[],a=(n("4453"),n("ee95")),o=n("eb12"),s=n("ba94"),c=n("5ee8"),u=n("4e86"),d=n("5bc3"),l=n("3a61"),p=n("b2e6"),h=n("a60a"),g=n.n(h),f=n("74a9"),v=n("1639"),w=n("44eb"),b=n("4c5d"),m=n("84ec"),k=function(t){function e(){var t;return Object(o["a"])(this,e),t=Object(c["a"])(this,Object(u["a"])(e).apply(this,arguments)),t.dxDataGridKey1="dxDataGridKey1",t.gsettingAPI=new w["a"],t}return Object(d["a"])(e,t),Object(s["a"])(e,[{key:"mounted",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.$parent.content_title="全局设置",this.initComponent(),this.getGSettingList();case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"initComponent",value:function(){this.dxDataGrid1=this.getDxInstanceByKey(this.dxDataGridKey1);var t=[{dataField:"id",caption:"编号",width:80},{allowFiltering:!0,allowSorting:!0,dataField:"key",caption:"变量名称",width:160},{allowFiltering:!0,allowSorting:!0,dataField:"value",caption:"值",width:160},{allowFiltering:!0,allowSorting:!0,dataField:"title",caption:"名称",width:200},{dataField:"key_type",caption:"变量类别",width:160,cellTemplate:function(t,e){g()("<span>").append(b["a"].getDicText(b["a"].getDictonary().data.setting_type,e.value)).appendTo(t)}},{dataField:"create_time",caption:"创建时间",width:160},{fixed:!0,fixedPosition:"right",dataField:"id",alignment:"center",caption:m["a"].Operate,width:200,cellTemplate:this.cellEdit}],e=this.getDataGridOption({onToolbarPreparing:this.onToolbarPreparingHandler,columns:t,onRowClick:this.onRowClickHandler});this.dxDataGrid1.option(e)}},{key:"onRowClickHandler",value:function(t){var e=this;this.dbClick(function(){e.redirect("/system/settings/edit/"+t.key.id)})}},{key:"cellEdit",value:function(t,e){var n=this,r=this.getCreateLink("编辑",function(t){n.redirect("/system/settings/edit/"+e.value)});g()("<div>").append(r).appendTo(t)}},{key:"getGSettingList",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(){var e,n=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e=this.getDataGridPager(function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(e,r,i){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n.gsettingAPI.GSettingListPager(e,r,i);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)}));return function(e,n,r){return t.apply(this,arguments)}}()),this.dxDataGrid1.option({remoteOperations:!0,dataSource:e});case 2:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"onToolbarPreparingHandler",value:function(t){var e=this,n=(t.component,t.toolbarOptions.items);n.push({location:"before",widget:"dxButton",options:{text:m["a"].Add,icon:"add",onClick:this.onAddHandler}}),n.push({location:"before",widget:"dxButton",options:{icon:"refresh",text:"刷新",onClick:this.onSearchHandler}}),this.createSearchToolbars(n,this.dxDataGrid1.option("columns"),function(){e.getGSettingList()})}},{key:"onAddHandler",value:function(t){this.redirect("/system/settings/edit")}},{key:"onSearchHandler",value:function(t){this.dxDataGrid1.refresh()}}]),e}(v["a"]);k=l["a"]([Object(p["a"])({components:{DxDataGrid:f["DxDataGrid"]}})],k);var y=k,x=y,O=x,G=n("17cc"),D=Object(G["a"])(O,r,i,!1,null,null,null);e["default"]=D.exports}}]);