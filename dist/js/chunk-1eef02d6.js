(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1eef02d6"],{"2c32":function(e,t,r){"use strict";r.d(t,"a",function(){return p});r("4453");var n=r("ee95"),a=r("eb12"),i=r("ba94"),u=r("5ee8"),s=r("4e86"),o=r("5bc3"),c=r("f322"),p=function(e){function t(){return Object(a["a"])(this,t),Object(u["a"])(this,Object(s["a"])(t).apply(this,arguments))}return Object(o["a"])(t,e),Object(i["a"])(t,[{key:"UserGroupListPager",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t,r,n,a,i,u=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:"",r=u.length>1&&void 0!==u[1]?u[1]:15,n=u.length>2&&void 0!==u[2]?u[2]:1,a="/staff/group?account_token="+this.token+"&size="+r+"&page="+n+t,e.next=6,this.httpGet(a);case 6:return i=e.sent,e.abrupt("return",i);case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"userGroupAdd",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r="/staff/group",e.next=3,this.httpPost(r,t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"userGroupUpdate",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t,r){var n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n="/staff/group/"+t,e.next=3,this.httpPut(n,r);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}},e,this)}));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getUserGroupModel",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r="/staff/group/"+t+"?account_token="+this.token,e.next=3,this.httpGet(r);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getGroupPackageList",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r,n,a=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:"",r="/staff/group/"+t+"/package?account_token="+this.token,e.next=4,this.httpGet(r);case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"setGroupPackage",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t,r){var n,a,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n="/staff/group/"+t+"/package",a={account_token:this.token,package_id:r},e.next=4,this.httpPostJson(n,a);case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}},e,this)}));function t(t,r){return e.apply(this,arguments)}return t}()}]),t}(c["a"])},cbde:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"home"},[r("DxForm",{ref:e.dxFormKey1})],1)},a=[],i=(r("4453"),r("ee95")),u=r("eb12"),s=r("ba94"),o=r("5ee8"),c=r("4e86"),p=r("5bc3"),h=r("3a61"),l=r("b2e6"),d=r("74a9"),f=r("a60a"),v=r.n(f),m=r("1639"),x=r("2c32"),g=r("4c5d"),b=r("84ec"),k=r("9b13"),y=r("4b0b"),w=r("e202"),R=function(e){function t(){var e;return Object(u["a"])(this,t),e=Object(o["a"])(this,Object(c["a"])(t).apply(this,arguments)),e.dxFormKey1="dxForm_Key_1",e.userGroupAPI=new x["a"],e.dxFormData1={id:0,user_type:1,is_reg:1,default_free_points:0,product_type:0},e.dxFormDataReset1={},e}return Object(p["a"])(t,e),Object(s["a"])(t,[{key:"mounted",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.$parent.content_title="用户组编辑",this.submitText=b["a"].Add,this.ID!==k["a"].zero&&(this.submitText=b["a"].Update),this.initComponent(),t=new w["a"],e.next=7,t.getList();case 7:if(r=e.sent,this.dxForm1.getEditor("default_vip_level").option({dataSource:r.data,displayExpr:"title",valueExpr:"id"}),this.ID===k["a"].zero){e.next=12;break}return e.next=12,this.getUserGroupModel(this.ID);case 12:this.dxFormDataReset1=v.a.extend(!0,{},this.dxFormData1);case 13:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"initComponent",value:function(){this.dxForm1=this.getDxInstanceByKey(this.dxFormKey1);var e=!1;this.ID>0&&(e=!0);var t=[],r=[],n=[];r=[y["a"].getRequired("组名称不能为空!")],n=[y["a"].getRequired("组描述不能为空!")],t.push({dataField:"title",label:{text:"组名称"},editorOptions:{placeholder:"请输入组名称"},validationRules:r}),t.push({dataField:"desc",editorType:"dxTextArea",label:{text:"组描述"},editorOptions:{placeholder:"请输入合适的组描述",height:100},validationRules:n}),t.push({dataField:"user_type",editorType:"dxSelectBox",label:{text:"用户类型"},editorOptions:{disabled:e,displayExpr:"name",valueExpr:"id",dataSource:g["a"].getDictonary().data.user_type,hint:"用户类型添加后不可更改!"},validationRules:[y["a"].getRequired("请选择用户类型!")]}),t.push({dataField:"product_type",editorType:"dxSelectBox",label:{text:"产品类型"},editorOptions:{disabled:e,displayExpr:"name",valueExpr:"id",dataSource:g["a"].getDictonary().data.product_type,hint:"产品类型添加后不可更改!"},validationRules:[y["a"].getRequired("请选择产品类型!")]}),t.push({dataField:"is_reg",editorType:"dxSelectBox",label:{text:"是否开放注册"},editorOptions:{displayExpr:"name",valueExpr:"id",dataSource:g["a"].getDictonary().data.group_is_reg}}),t.push({dataField:"default_vip_level",editorType:"dxSelectBox",label:{text:"默认用户级别"},editorOptions:{placeholder:"默认用户级别",displayExpr:"name",valueExpr:"id",dataSource:g["a"].getDictonary().data.user_vip_level},validationRules:[y["a"].getRequired("默认用户级别不能为空!")]}),t.push({dataField:"default_free_points",label:{text:"默认赠送积分"},editorType:"dxNumberBox",editorOptions:{placeholder:"默认赠送积分"}});var a=[];a.push({itemType:"button",horizontalAlignment:"center",buttonOptions:{text:this.ID>0?b["a"].Update:b["a"].Add,type:"success",useSubmitBehavior:!0,onClick:this.onClickDoHandler}}),a.push({itemType:"button",horizontalAlignment:"center",buttonOptions:{text:"重置",type:"normal",onClick:this.onResetHandler}}),a.push({itemType:"button",horizontalAlignment:"center",buttonOptions:{text:b["a"].Back,type:"normal",useSubmitBehavior:!0,onClick:this.onClickBackHandler}});var i=[];i.push({itemType:"group",items:t},{itemType:"group",colCount:3,items:a});var u={formData:this.dxFormData1,items:i,width:500};this.dxForm1.option(u)}},{key:"onResetHandler",value:function(e){this.dxFormData1=v.a.extend(!0,{},this.dxFormDataReset1),this.dxForm1.option("formData",this.dxFormData1)}},{key:"onClickDoHandler",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t,r,n=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,this.validateForm(this.dxForm1)){e.next=3;break}return e.abrupt("return");case 3:if(this.dxFormData1.account_token=this.token,t=this.joinFormParams(this.dxFormData1),this.dxFormData1.id!=k["a"].zero){e.next=11;break}return e.next=8,this.userGroupAPI.userGroupAdd(t);case 8:r=e.sent,e.next=14;break;case 11:return e.next=13,this.userGroupAPI.userGroupUpdate(this.dxFormData1.id,t);case 13:r=e.sent;case 14:r.code==k["a"].OK||r.code==k["a"].isSame||r.code==k["a"].isSameSaveData?this.toast(function(){n.redirect("/user/group/list")}):this.errorCodeMsg(r.code,r.msg),e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](0),this.error(e.t0);case 20:case"end":return e.stop()}},e,this,[[0,17]])}));function t(){return e.apply(this,arguments)}return t}()},{key:"onClickBackHandler",value:function(){this.redirect("/user/group/list")}},{key:"getUserGroupModel",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.userGroupAPI.getUserGroupModel(t);case 2:r=e.sent,this.dxFormData1=r.data,this.dxForm1.option("formData",this.dxFormData1);case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}]),t}(m["a"]);R=h["a"]([Object(l["a"])({components:{DxDataGrid:d["DxDataGrid"],DxForm:d["DxForm"],DxTreeView:d["DxTreeView"]}})],R);var O=R,D=O,_=D,F=r("17cc"),j=Object(F["a"])(_,n,a,!1,null,null,null);t["default"]=j.exports},e202:function(e,t,r){"use strict";r.d(t,"a",function(){return p});r("4453");var n=r("ee95"),a=r("eb12"),i=r("ba94"),u=r("5ee8"),s=r("4e86"),o=r("5bc3"),c=r("f322"),p=function(e){function t(){return Object(a["a"])(this,t),Object(u["a"])(this,Object(s["a"])(t).apply(this,arguments))}return Object(o["a"])(t,e),Object(i["a"])(t,[{key:"getListPager",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t,r,n,a,i,u=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:"",r=u.length>1&&void 0!==u[1]?u[1]:15,n=u.length>2&&void 0!==u[2]?u[2]:1,a="/staff/vip_level?account_token="+this.token+"&size="+r+"&page="+n+t,e.next=6,this.httpGet(a);case 6:return i=e.sent,e.abrupt("return",i);case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"getList",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t,r,n=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n.length>0&&void 0!==n[0]?n[0]:"",t="/staff/vip_level/lists?account_token="+this.token,e.next=4,this.httpGet(t);case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"setAdd",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r,n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r="/staff/vip_level",n=t,e.next=4,this.httpPost(r,n);case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"setUpdate",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t,r){var n,a,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n="/staff/vip_level/"+t,a=r,e.next=4,this.httpPut(n,a);case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}},e,this)}));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"setDelete",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r="/staff/vip_level/"+t,n="account_token="+this.token,e.next=4,this.httpDelete(r+"?"+n);case 4:e.sent;case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getModel",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r,n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r="/staff/vip_level/"+t,n="account_token="+this.token,e.next=4,this.httpGet(r+"?"+n);case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}]),t}(c["a"])}}]);