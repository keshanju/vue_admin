(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1efebefc"],{"8e40":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("DxForm",{ref:e.dxFormKey1})],1)},a=[],i=(n("b06f"),n("4453"),n("ee95")),s=n("eb12"),u=n("ba94"),o=n("5ee8"),c=n("4e86"),p=n("5bc3"),h=n("3a61"),d=n("b2e6"),m=n("74a9"),l=n("a60a"),f=n.n(l),b=n("1639"),x=n("fbcc"),v=n("84ec"),w=n("9b13"),k=n("4b0b"),D=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(o["a"])(this,Object(c["a"])(t).apply(this,arguments)),e.dxFormKey1="dxForm_Key_1",e.userWanipAPI=new x["a"],e.dxFormData1={id:0},e.dxFormDataReset1={},e.wanipid=0,e}return Object(p["a"])(t,e),Object(u["a"])(t,[{key:"mounted",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.submitText=v["a"].Add,this.ID!==w["a"].zero&&(this.submitText=v["a"].Update),this.wanipid=Number(this.getParam("wan_id")),this.initComponent(),!(this.wanipid>=w["a"].zero)){e.next=7;break}return e.next=7,this.getUserWanipModel(this.wanipid);case 7:this.dxFormDataReset1=f.a.extend(!0,{},this.dxFormData1);case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"initComponent",value:function(){this.dxForm1=this.getDxInstanceByKey(this.dxFormKey1);var e=[];this.ID,w["a"].zero,e.push({dataField:"user_ip",label:{text:"IP地址"},editorOptions:{placeholder:"IP地址"},validationRules:[k["a"].getRequired("IP地址不能为空!"),k["a"].getIP()]}),e.push({dataField:"ip_mask",label:{text:"IP掩码"},editorOptions:{placeholder:"IP掩码"},validationRules:[k["a"].getRequired("IP掩码不能为空!"),k["a"].getIP("掩码无效！")]});var t=[];t.push({itemType:"button",horizontalAlignment:"center",buttonOptions:{text:this.ID>0?v["a"].Update:v["a"].Add,type:"success",useSubmitBehavior:!0,onClick:this.onClickDoHandler}}),t.push({itemType:"button",horizontalAlignment:"center",buttonOptions:{text:"重置",type:"normal",onClick:this.onResetHandler}}),t.push({itemType:"button",horizontalAlignment:"center",buttonOptions:{text:v["a"].Back,type:"normal",useSubmitBehavior:!0,onClick:this.onClickBackHandler}});var n=[];n.push({itemType:"group",caption:v["a"].Edit,items:e},{itemType:"group",colCount:3,items:t});var r={formData:this.dxFormData1,items:n,width:500};this.dxForm1.option(r)}},{key:"onResetHandler",value:function(e){this.dxFormData1=f.a.extend(!0,{},this.dxFormDataReset1),this.dxForm1.option("formData",this.dxFormData1)}},{key:"onClickDoHandler",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t,n,r=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,this.validateForm(this.dxForm1)){e.next=3;break}return e.abrupt("return");case 3:if(this.dxFormData1.account_token=this.token,t=this.joinFormParams(this.dxFormData1),this.wanipid!=w["a"].zero){e.next=11;break}return e.next=8,this.userWanipAPI.userWanipAdd(this.ID,t);case 8:n=e.sent,e.next=14;break;case 11:return e.next=13,this.userWanipAPI.userWanipUpdate(this.ID,this.wanipid,t);case 13:n=e.sent;case 14:n.code==w["a"].OK||n.code==w["a"].isSame||n.code==w["a"].isSameSaveData?this.toast(function(){r.redirect("/user/"+r.ID+"/wanip/list")}):this.errorCodeMsg(n.code,n.msg),e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](0),this.error(e.t0);case 20:case"end":return e.stop()}},e,this,[[0,17]])}));function t(){return e.apply(this,arguments)}return t}()},{key:"onClickBackHandler",value:function(){this.redirect("/user/"+this.ID+"/wanip/list")}},{key:"getUserWanipModel",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.userWanipAPI.getUserWanipModel(this.ID,this.wanipid);case 2:n=e.sent,this.dxFormData1=n.data,this.dxForm1.option("formData",this.dxFormData1);case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}]),t}(b["a"]);D=h["a"]([Object(d["a"])({components:{DxDataGrid:m["DxDataGrid"],DxForm:m["DxForm"],DxTreeView:m["DxTreeView"]}})],D);var g=D,y=g,F=y,O=n("17cc"),R=Object(O["a"])(F,r,a,!1,null,null,null);t["default"]=R.exports},fbcc:function(e,t,n){"use strict";n.d(t,"a",function(){return p});n("4453");var r=n("ee95"),a=n("eb12"),i=n("ba94"),s=n("5ee8"),u=n("4e86"),o=n("5bc3"),c=n("f322"),p=function(e){function t(){return Object(a["a"])(this,t),Object(s["a"])(this,Object(u["a"])(t).apply(this,arguments))}return Object(o["a"])(t,e),Object(i["a"])(t,[{key:"getUserWanipListPager",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n="/staff/member/"+t+"/wanip?account_token="+this.token,e.next=3,this.httpGet(n);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"userWanipAdd",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t,n){var r,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r="/staff/member/"+t+"/wanip",e.next=3,this.httpPost(r,n);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"userWanipUpdate",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t,n,r){var a,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a="/staff/member/"+t+"/wanip/"+n,e.next=3,this.httpPut(a,r);case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}},e,this)}));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"userWanipDelete",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t,n){var r,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r="/staff/member/"+t+"/wanip/"+n+"?account_token="+this.token,e.next=3,this.httpDelete(r);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getUserWanipModel",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t,n){var r,a,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r="/staff/member/"+t+"/wanip/"+n,a="account_token="+this.token,e.next=4,this.httpGet(r+"?"+a);case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}()}]),t}(c["a"])}}]);