(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0da8f8"],{"6bb8":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("dx-tree-list",{ref:"devTreeListSrc"})],1)},r=[],i=(n("3a23"),n("612f"),n("4453"),n("ee95")),o=n("eb12"),s=n("ba94"),u=n("5ee8"),c=n("4e86"),d=n("5bc3"),h=n("3a61"),p=n("b2e6"),l=n("1639"),f=n("5fed"),v=n("f322"),w=function(e){function t(){return Object(o["a"])(this,t),Object(u["a"])(this,Object(c["a"])(t).apply(this,arguments))}return Object(d["a"])(t,e),Object(s["a"])(t,[{key:"getAllSeoMeta",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t="/staff/seometa?account_token="+this.token,e.next=3,this.httpGet(t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"updateOneSeoMeta",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t,n){var a,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a="/staff/seometa/"+t+"?account_token="+this.token,e.next=3,this.httpPut(a,n);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"createOneSeoMeta",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){var n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n="/staff/seometa?account_token="+this.token,e.next=3,this.httpPost(n,t);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"deleteOneSeoMeta",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){var n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n="/staff/seometa/"+t+"?account_token="+this.token,e.next=3,this.httpDelete(n);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}]),t}(v["a"]),m=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(u["a"])(this,Object(c["a"])(t).apply(this,arguments)),e.devTreeListSrc="devTreeListSrc",e.dataSource=[],e.seometaApi=new w,e}return Object(d["a"])(t,e),Object(s["a"])(t,[{key:"mounted",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$parent.content_title="SEO Meta",this.initComponents(),this.getDataList();case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"initComponents",value:function(){var e=this;this.devTreeListUi=this.$refs[this.devTreeListSrc].instance;var t={columns:this.columns(),dataSource:this.dataSource,keyExpr:"id",parentIdExpr:"pid",showRowLines:!0,showBorders:!0,editing:{allowAdding:!0,allowDeleting:!0,allowUpdating:!0},onRowInserted:this.insertedOneData,onRowUpdated:this.updatedOneData,onRowRemoved:this.removedOneData,onToolbarPreparing:function(t){var n=t.toolbarOptions.items;n.push({location:"before",widget:"dxButton",options:{text:"刷新",icon:"refresh",onClick:e.getDataList}}),n.forEach(function(e){"addRowButton"==e.name&&(e.location="before",e.showText=!0,e.options.text="添加")})}};this.devTreeListUi.option(t)}},{key:"insertedOneData",value:function(e){var t=this;this.seometaApi.createOneSeoMeta(e.data).then(function(e){0==e.code&&t.getDataList()})}},{key:"updatedOneData",value:function(e){var t=this;this.seometaApi.updateOneSeoMeta(e.key,e.data).then(function(e){0==e.code&&t.getDataList()})}},{key:"removedOneData",value:function(e){var t=this;e.key==e.data.id&&this.seometaApi.deleteOneSeoMeta(e.key).then(function(e){0!=e.code&&t.errorCodeMsg(e.code,e.msg),t.getDataList()})}},{key:"getDataList",value:function(){var e=this;this.seometaApi.getAllSeoMeta().then(function(t){e.dataSource=t.data,e.devTreeListUi.option({remoteOperations:!0,dataSource:e.dataSource})})}},{key:"columns",value:function(){var e=[{dataField:"title",caption:"名称",width:200,validationRules:[{type:"required"}]},{dataField:"key",caption:"SEO Key",width:200,validationRules:[{type:"required"}]},{dataField:"value",caption:"SEO Value"},{dataField:"create_time",caption:"创建时间",width:130,allowEditing:!1},{dataField:"create_staff_name",caption:"创建人",width:50,allowEditing:!1},{dataField:"change_time",caption:"修改时间",width:130,allowEditing:!1},{dataField:"change_staff_name",caption:"修改人",width:50,allowEditing:!1}];return e}}]),t}(l["a"]);m=h["a"]([Object(p["a"])({components:{DxTreeList:f["DxTreeList"]}})],m);var O=m,b=O,k=b,g=n("17cc"),y=Object(g["a"])(k,a,r,!1,null,null,null);t["default"]=y.exports}}]);