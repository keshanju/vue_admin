(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e64e8"],{"97d8":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("DxDataGrid",{ref:e.dxDataGridKey1})],1)},n=[],r=(a("4453"),a("ee95")),o=a("eb12"),c=a("ba94"),l=a("5ee8"),p=a("4e86"),d=a("5bc3"),s=a("3a61"),g=a("b2e6"),u=a("74a9"),_=a("a60a"),h=a.n(_),w=a("1639"),f=a("f322"),k=function(e){function t(){return Object(o["a"])(this,t),Object(l["a"])(this,Object(p["a"])(t).apply(this,arguments))}return Object(d["a"])(t,e),Object(c["a"])(t,[{key:"getListPager",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){var t,a,i,n,r,o=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:"",a=o.length>1&&void 0!==o[1]?o[1]:15,i=o.length>2&&void 0!==o[2]?o[2]:1,n="/staff/package/oplogs?account_token="+this.token+"&size="+a+"&page="+i+t,e.next=6,this.httpGet(n);case 6:return r=e.sent,e.abrupt("return",r);case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"getList",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){var t,a,i=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return i.length>0&&void 0!==i[0]?i[0]:"",t="/staff/packageopLog?account_token="+this.token,e.next=4,this.httpGet(t);case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"setAdd",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var a,i,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a="/staff/packageopLog",i=t,e.next=4,this.httpPost(a,i);case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"setUpdate",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t,a){var i,n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return i="/staff/packageopLog/"+t,n=a,e.next=4,this.httpPut(i,n);case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"setDelete",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var a,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a="/staff/packageopLog/"+t,i="account_token="+this.token+"&ids="+t,e.next=4,this.httpDelete(a+"?"+i);case 4:e.sent;case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getModel",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var a,i,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a="/staff/packageopLog/"+t,i="account_token="+this.token,e.next=4,this.httpGet(a+"?"+i);case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}]),t}(f["a"]),F=a("4c5d"),v=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(l["a"])(this,Object(p["a"])(t).apply(this,arguments)),e.dxDataGridKey1="dxDataGrid_Key_1",e.packageOpLogApi=new k,e}return Object(d["a"])(t,e),Object(c["a"])(t,[{key:"mounted",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$parent.content_title="套餐操作日志",this.initComponent(),this.getPagerList();case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"initComponent",value:function(){this.dxDataGrid1=this.getDxInstanceByKey(this.dxDataGridKey1);var e=[{allowFiltering:!0,allowSorting:!0,dataField:"package_no",caption:"套餐编号",width:120},{allowFiltering:!0,allowSorting:!0,dataField:"package_title",caption:"套餐名称",width:120},{dataField:"package_is_valid",caption:"有效状态",width:80,cellTemplate:function(e,t){h()("<span>").append(F["a"].getDicText(F["a"].getDictonary().data.valid,t.value)).appendTo(e)}},{dataField:"package_billing_type",caption:"计费方式",width:80,cellTemplate:function(e,t){h()("<span>").append(F["a"].getDicText(F["a"].getDictonary().data.billing_type,t.value)).appendTo(e)}},{dataField:"package_price_type",caption:"价格类型",width:80,cellTemplate:function(e,t){h()("<span>").append(F["a"].getDicText(F["a"].getDictonary().data.price_type,t.value)).appendTo(e)}},{allowFiltering:!0,allowSorting:!0,dataField:"package_order_position",caption:"排序类型",width:80},{dataField:"package_short_desc",caption:"简介",width:150},{dataField:"package_desc",caption:"备注",width:150},{dataField:"package_create_staff_name",caption:"创建人",width:80},{dataField:"package_change_staff_name",caption:"修改人",width:80},,{allowFiltering:!0,allowSorting:!0,dataField:"package_short_points",caption:"短期活动积分",width:80},{allowFiltering:!0,allowSorting:!0,dataField:"package_short_ref_points",caption:"短期活动推荐人积分",width:80},{allowFiltering:!0,allowSorting:!0,dataField:"package_short_activity_id",caption:"活动",width:80},{dataField:"package_is_order_connects",caption:"是否允许用户自定义连接数",width:180,cellTemplate:function(e,t){var a=0==t.value?"red":"green";h()("<span style='color:"+a+"'>").append(F["a"].getDicText(F["a"].getDictonary().data.flag,t.value)).appendTo(e)}},{allowFiltering:!0,allowSorting:!0,dataField:"package_total_max_connects",caption:"最大连接数",width:90},{allowFiltering:!0,allowSorting:!0,dataField:"package_pc_max_connects",caption:"PC连接数",width:80},{allowFiltering:!0,allowSorting:!0,dataField:"package_mobile_max_connects",caption:"手机连接数",width:80},{allowFiltering:!0,allowSorting:!0,dataField:"package_up_speed_rate",caption:"上传速度(KB)",width:90},{allowFiltering:!0,allowSorting:!0,dataField:"package_down_speed_rate",caption:"下载速度(KB)",width:90},{dataField:"package_change_time",caption:"修改时间",width:160},{dataField:"package_create_time",caption:"创建时间",width:160},{dataField:"is_own_all_lines",caption:"是否拥有全部线路",width:170,cellTemplate:function(e,t){var a=0==t.value?"red":"green";h()("<span style='color:"+a+"'>").append(F["a"].getDicText(F["a"].getDictonary().data.price_type,t.value)).appendTo(e)}},{dataField:"is_own_all_games",caption:"是否拥有全部游戏",width:170,cellTemplate:function(e,t){var a=0==t.value?"red":"green";h()("<span style='color:"+a+"'>").append(F["a"].getDicText(F["a"].getDictonary().data.price_type,t.value)).appendTo(e)}},{allowFiltering:!0,allowSorting:!0,dataField:"package_version_no",caption:"版本号",width:170},{allowFiltering:!0,allowSorting:!0,dataField:"package_refund_allow_days",caption:"允许全额退款天数",width:170},{allowFiltering:!0,allowSorting:!0,dataField:"package_gateway_fee",caption:"手续费",width:170},{allowFiltering:!0,allowSorting:!0,dataField:"package_version",caption:"套餐版本号",width:170},{allowFiltering:!0,allowSorting:!0,dataField:"package_price_title",caption:"套餐价格名称",width:170},{allowFiltering:!0,allowSorting:!0,dataField:"package_price_order_num",caption:"套餐价格排序",width:170},{dataField:"package_price_short_desc",caption:"套餐价格简介",width:170},{dataField:"package_price_desc",caption:"套餐价格说明",width:170},{allowFiltering:!0,allowSorting:!0,dataField:"package_price_points",caption:"套餐价格购买积分",width:170},{allowFiltering:!0,allowSorting:!0,dataField:"package_price_ref_points",caption:"套餐价格购买积分",width:170},{allowFiltering:!0,allowSorting:!0,dataField:"package_price_free_add_time",caption:"套餐价格赠送分钟数",width:170},{allowFiltering:!0,allowSorting:!0,dataField:"package_price_price",caption:"套餐价格价格(分)",width:170},{dataField:"package_price_create_time",caption:"套餐价格创建时间",width:170},{dataField:"package_price_change_time",caption:"套餐价格修改时间",width:170},{dataField:"package_price_create_staff_name",caption:"套餐价格创建人",width:80},{dataField:"package_change_staff_name",caption:"套餐价格修改人",width:80},{allowFiltering:!0,allowSorting:!0,dataField:"package_price_version",caption:"套餐价格版本号",width:170},{allowFiltering:!0,allowSorting:!0,dataField:"package_price_extend_time",caption:"套餐价格延长时间(月/分钟)",width:170},{allowFiltering:!0,allowSorting:!0,dataField:"package_price_extend_type",caption:"套餐价格延长类型",width:170,cellTemplate:function(e,t){h()("<span>").append(F["a"].getDicText(F["a"].getDictonary().data.duration_date_type,t.value)).appendTo(e)}},{dataField:"paacage_price_is_sale",caption:"套餐价格是否销售",width:170,cellTemplate:function(e,t){h()("<span>").append(F["a"].getDicText(F["a"].getDictonary().data.flag,t.value)).appendTo(e)}},{dataField:"create_time",caption:"数据添加时间",width:170}],t=this.getDataGridOption({onToolbarPreparing:this.onToolbarPreparingHandler,columns:e});this.dxDataGrid1.option(t)}},{key:"onToolbarPreparingHandler",value:function(e){e.component;var t=e.toolbarOptions.items;t.push({location:"before",widget:"dxButton",options:{icon:"refresh",text:"刷新",onClick:this.onRefreshHandler}}),t.push({location:"before",widget:"dxButton",options:{text:"返回套餐列表",icon:"back",onClick:this.onBackListHandler}})}},{key:"onBackListHandler",value:function(e){this.redirect("/package/list")}},{key:"onRefreshHandler",value:function(e){this.dxDataGrid1.refresh()}},{key:"getPagerList",value:function(){var e=this,t=this.getDataGridPager(function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(a,i,n){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return""!=a?a.indexOf("|")>-1?a+="package_id__equal__"+e.ID:a+="|package_id__equal__"+e.ID:a+="&search=package_id__equal__"+e.ID,t.next=3,e.packageOpLogApi.getListPager(a,i,n);case 3:return r=t.sent,t.abrupt("return",r);case 5:case"end":return t.stop()}},t)}));return function(e,a,i){return t.apply(this,arguments)}}());this.dxDataGrid1.option({remoteOperations:!0,dataSource:t})}}]),t}(w["a"]);v=s["a"]([Object(g["a"])({components:{DxDataGrid:u["DxDataGrid"],DxForm:u["DxForm"],DxTreeView:u["DxTreeView"]}})],v);var m=v,x=m,y=x,b=a("17cc"),D=Object(b["a"])(y,i,n,!1,null,null,null);t["default"]=D.exports}}]);