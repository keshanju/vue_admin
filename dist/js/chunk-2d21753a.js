(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21753a"],{c5f8:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("DxDataGrid",{ref:e.dxDataGridKey1})],1)},r=[],i=(a("4453"),a("ee95")),o=a("eb12"),c=a("ba94"),l=a("5ee8"),d=a("4e86"),s=a("5bc3"),u=a("3a61"),p=a("b2e6"),g=a("74a9"),h=a("a60a"),f=a.n(h),v=a("1639"),m=a("f322"),w=function(e){function t(){return Object(o["a"])(this,t),Object(l["a"])(this,Object(d["a"])(t).apply(this,arguments))}return Object(s["a"])(t,e),Object(c["a"])(t,[{key:"getListPager",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t,a,n,r,i,o=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:"",a=o.length>1&&void 0!==o[1]?o[1]:15,n=o.length>2&&void 0!==o[2]?o[2]:1,r="/staff/game/logs?account_token="+this.token+"&size="+a+"&page="+n+t,e.next=6,this.httpGet(r);case 6:return i=e.sent,e.abrupt("return",i);case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"getList",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t,a,n=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n.length>0&&void 0!==n[0]?n[0]:"",t="/staff/game/logs?account_token="+this.token,e.next=4,this.httpGet(t);case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"setAdd",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){var a,n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a="/staff/game/logs",n=t,e.next=4,this.httpPost(a,n);case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"setUpdate",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t,a){var n,r,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n="/staff/game/logs/"+t,r=a,e.next=4,this.httpPut(n,r);case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"setDelete",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){var a,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a="/staff/game/logs/"+t,n="account_token="+this.token+"&ids="+t,e.next=4,this.httpDelete(a+"?"+n);case 4:e.sent;case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getModel",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){var a,n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a="/staff/game/logs/"+t,n="account_token="+this.token,e.next=4,this.httpGet(a+"?"+n);case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}]),t}(m["a"]),_=a("4c5d"),x=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(l["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.dxDataGridKey1="dxDataGrid_Key_1",e.gameLogApi=new w,e}return Object(s["a"])(t,e),Object(c["a"])(t,[{key:"mounted",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$parent.content_title="游戏修改日志",this.initComponent(),this.getPagerList();case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"initComponent",value:function(){var e=this;this.dxDataGrid1=this.getDxInstanceByKey(this.dxDataGridKey1);var t=[{dataField:"id",caption:"编号",width:80},{allowFiltering:!0,allowSorting:!0,dataField:"title",caption:"游戏名",width:180},{dataField:"change_staff_name",caption:"修改人",width:80},{dataField:"create_staff_name",caption:"创建人",width:80},{dataField:"create_time",caption:"创建时间",width:160},{dataField:"game_android_rules",caption:"安卓规则",width:200},{dataField:"game_background_url",caption:"游戏背景图",width:200,cellTemplate:function(t,a){f()("<div>").append(e.uploadApi.getUploadHttp+a.value).appendTo(t)}},{allowFiltering:!0,allowSorting:!0,dataField:"game_h1_title",caption:"游戏h5页面标题",width:200},{dataField:"game_host_rules",caption:"主机规则",width:200},{dataField:"game_ios_rules",caption:"ios规则",width:200},{dataField:"game_mac_rules",caption:"mac规则",width:200},{dataField:"game_pic_url",caption:"游戏小图标",width:200,cellTemplate:function(t,a){f()("<div>").append(e.uploadApi.getUploadHttp+a.value).appendTo(t)}},{dataField:"game_ss_rules",caption:"ss规则",width:200},{dataField:"game_type",caption:"游戏分类",width:200},{dataField:"game_vpn_rules",caption:"vpn规则",width:200},{dataField:"is_hot",width:170,caption:"是否热门",cellTemplate:function(e,t){var a=0==t.value?"red":"green";f()("<span style='color:"+a+"'>").append(_["a"].getDicText(_["a"].getDictonary().data.flag,t.value)).appendTo(e)}},{dataField:"is_support_android",width:170,caption:"是否支持安卓",cellTemplate:function(e,t){var a=0==t.value?"red":"green";f()("<span style='color:"+a+"'>").append(_["a"].getDicText(_["a"].getDictonary().data.flag,t.value)).appendTo(e)}},{dataField:"is_support_host_game",width:170,caption:"是否支持主机游戏",cellTemplate:function(e,t){var a=0==t.value?"red":"green";f()("<span style='color:"+a+"'>").append(_["a"].getDicText(_["a"].getDictonary().data.flag,t.value)).appendTo(e)}},{dataField:"is_support_ios",width:170,caption:"是否支持ios",cellTemplate:function(e,t){var a=0==t.value?"red":"green";f()("<span style='color:"+a+"'>").append(_["a"].getDicText(_["a"].getDictonary().data.flag,t.value)).appendTo(e)}},{dataField:"is_support_mac",width:170,caption:"是否mac",cellTemplate:function(e,t){var a=0==t.value?"red":"green";f()("<span style='color:"+a+"'>").append(_["a"].getDicText(_["a"].getDictonary().data.flag,t.value)).appendTo(e)}},{dataField:"is_support_windows",width:170,caption:"是否windows",cellTemplate:function(e,t){var a=0==t.value?"red":"green";f()("<span style='color:"+a+"'>").append(_["a"].getDicText(_["a"].getDictonary().data.flag,t.value)).appendTo(e)}},{dataField:"is_config_id",caption:"是否配置",width:170,cellTemplate:function(e,t){var a=0==t.value?"red":"green";f()("<span style='color:"+a+"'>").append(_["a"].getDicText(_["a"].getDictonary().data.flag,t.value)).appendTo(e)}},{dataField:"is_valid",width:170,caption:"是否有效",cellTemplate:function(e,t){var a=0==t.value?"red":"green";f()("<span style='color:"+a+"'>").append(_["a"].getDicText(_["a"].getDictonary().data.flag,t.value)).appendTo(e)}},{dataField:"android_dns_model",width:170,caption:"安卓DNS",cellTemplate:function(e,t){f()("<span>").append(_["a"].getDicText(_["a"].getDictonary().data.android_dns_model,t.value)).appendTo(e)}},{allowFiltering:!0,allowSorting:!0,dataField:"sort_num",width:170,caption:"Xml排序"},{allowFiltering:!0,allowSorting:!0,dataField:"is_free",width:80,caption:"是否限免",cellTemplate:function(e,t){var a=0==t.value?"red":"green";f()("<span style='color:"+a+"'>").append(_["a"].getDicText(_["a"].getDictonary().data.flag,t.value)).appendTo(e)}}],a=this.getDataGridOption({onToolbarPreparing:this.onToolbarPreparingHandler,columns:t,paging:{pageSize:10}});this.dxDataGrid1.option(a)}},{key:"onToolbarPreparingHandler",value:function(e){var t=this,a=(e.component,e.toolbarOptions.items);a.push({location:"before",widget:"dxButton",options:{icon:"refresh",text:"刷新",onClick:this.onRefreshHandler}}),a.push({location:"before",widget:"dxButton",options:{icon:"back",text:"返回游戏列表",onClick:function(e){t.redirect("/game/list")}}})}},{key:"onRefreshHandler",value:function(e){this.dxDataGrid1.refresh()}},{key:"getPagerList",value:function(){var e=this,t=this.getDataGridPager(function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(a,n,r){var i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return""!=a?a.indexOf("|")>-1?a+="game_id__equal__"+e.ID:a+="|game_id__equal__"+e.ID:a+="&search=game_id__equal__"+e.ID,t.next=3,e.gameLogApi.getListPager(a,n,r);case 3:return i=t.sent,t.abrupt("return",i);case 5:case"end":return t.stop()}},t)}));return function(e,a,n){return t.apply(this,arguments)}}());this.dxDataGrid1.option({remoteOperations:!0,dataSource:t})}}]),t}(v["a"]);x=u["a"]([Object(p["a"])({components:{DxDataGrid:g["DxDataGrid"],DxForm:g["DxForm"],DxTreeView:g["DxTreeView"]}})],x);var y=x,D=y,b=D,T=a("17cc"),k=Object(T["a"])(b,n,r,!1,null,null,null);t["default"]=k.exports}}]);