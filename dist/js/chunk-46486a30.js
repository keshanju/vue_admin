(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-46486a30"],{"87cd":function(e,t,r){"use strict";r.d(t,"a",function(){return h});r("4453");var n=r("ee95"),a=r("eb12"),i=r("ba94"),o=r("5ee8"),u=r("4e86"),s=r("5bc3"),c=r("f322"),h=function(e){function t(){return Object(a["a"])(this,t),Object(o["a"])(this,Object(u["a"])(t).apply(this,arguments))}return Object(s["a"])(t,e),Object(i["a"])(t,[{key:"UserDurationListPager",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t,r,n,a,i,o=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:"",r=o.length>1&&void 0!==o[1]?o[1]:15,n=o.length>2&&void 0!==o[2]?o[2]:1,a="/staff/member/appeal?account_token="+this.token+"&size="+r+"&page="+n+t,e.next=6,this.httpGet(a);case 6:return i=e.sent,e.abrupt("return",i);case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"userDurationAdd",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r="/staff/appeal",e.next=3,this.httpPost(r,t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"userDurationUpdate",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t,r){var n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n="/staff/member/"+t+"/duration",e.next=3,this.httpPut(n,r);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}},e,this)}));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getUserDurationModel",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r="/staff/member/"+t+"?account_token="+this.token,e.next=3,this.httpGet(r);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"setUserDurationEdit",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t,r,n){var a,i,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a="/staff/member/time/".concat(t),i="account_token=".concat(this.token,"&reduce_time=").concat(r,"&invoice_money=").concat(n),e.next=4,this.httpPut(a,i);case 4:return o=e.sent,e.abrupt("return",o);case 6:case"end":return e.stop()}},e,this)}));function t(t,r,n){return e.apply(this,arguments)}return t}()}]),t}(c["a"])},ba46:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("DxForm",{ref:e.dxFormKey1})],1)},a=[],i=(r("4453"),r("ee95")),o=r("eb12"),u=r("ba94"),s=r("5ee8"),c=r("4e86"),h=r("5bc3"),p=r("3a61"),d=r("b2e6"),l=r("74a9"),m=r("a60a"),x=r.n(m),b=r("1639"),v=r("87cd"),f=r("84ec"),k=r("9b13"),y=r("4b0b"),D=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(s["a"])(this,Object(c["a"])(t).apply(this,arguments)),e.dxFormKey1="dxForm_Key_1",e.userdurationAPI=new v["a"],e.dxFormData1={},e.dxFormDataReset1={},e}return Object(h["a"])(t,e),Object(u["a"])(t,[{key:"mounted",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$parent.content_title="赠送时长",this.submitText=f["a"].Add,this.ID!==k["a"].zero&&(this.submitText=f["a"].Update),this.initComponent(),this.dxFormDataReset1=x.a.extend(!0,{},this.dxFormData1);case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"initComponent",value:function(){var e=this;this.dxForm1=this.getDxInstanceByKey(this.dxFormKey1);var t=[];t.push({dataField:"minutes_type",editorType:"dxSelectBox",label:{text:"赠送时长类型"},editorOptions:{placeholder:"请选择赠送时长类型",displayExpr:"text",valueExpr:"id",dataSource:[{text:"一天",id:1},{text:"一个月(30天)",id:2},{text:"二个月",id:3},{text:"三个月",id:4},{text:"四个月",id:5},{text:"五个月",id:6},{text:"六个月",id:7},{text:"十二个月(一年)",id:8},{text:"指定时长",id:9}],value:9,onValueChanged:function(t){var r=0;switch(t.value){case 1:r=1440;break;case 2:r=43200;break;case 3:r=86400;break;case 4:r=129600;break;case 5:r=172800;break;case 6:r=216e3;break;case 7:r=259200;break;case 8:r=518400;break}e.dxForm1.getEditor("minutes").option({value:r})}},validationRules:[y["a"].getRequired("赠送时长类型不能为空!")]}),t.push({dataField:"minutes",editorType:"dxNumberBox",label:{text:"分钟数"},editorOptions:{placeholder:"请填写分钟数!",value:0},validationRules:[y["a"].getRequired("分钟数不能为空!")]});var r=[];r.push({itemType:"button",horizontalAlignment:"center",buttonOptions:{text:"赠送时长",type:"success",useSubmitBehavior:!0,onClick:this.onClickDoHandler}}),r.push({itemType:"button",horizontalAlignment:"center",buttonOptions:{text:"重置",type:"normal",onClick:this.onResetHandler}}),r.push({itemType:"button",horizontalAlignment:"center",buttonOptions:{text:f["a"].Back,type:"normal",useSubmitBehavior:!0,onClick:this.onClickBackHandler}});var n=[];n.push({itemType:"group",items:t},{itemType:"group",colCount:3,items:r});var a={formData:this.dxFormData1,items:n,width:500};this.dxForm1.option(a)}},{key:"onResetHandler",value:function(e){this.dxFormData1=x.a.extend(!0,{},this.dxFormDataReset1),this.dxForm1.option("formData",this.dxFormData1)}},{key:"onClickDoHandler",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t,r,n=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,this.validateForm(this.dxForm1)){e.next=3;break}return e.abrupt("return");case 3:return this.dxFormData1.account_token=this.token,t=this.joinFormParams(this.dxFormData1),e.next=7,this.userdurationAPI.userDurationUpdate(this.ID,t);case 7:r=e.sent,r.code==k["a"].OK||r.code==k["a"].isSame||r.code==k["a"].isSameSaveData?this.toast(function(){n.redirect("/user/list")}):this.errorCodeMsg(r.code,r.msg),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),this.error(e.t0);case 14:case"end":return e.stop()}},e,this,[[0,11]])}));function t(){return e.apply(this,arguments)}return t}()},{key:"onClickBackHandler",value:function(){this.redirect("/user/list")}}]),t}(b["a"]);D=p["a"]([Object(d["a"])({components:{DxDataGrid:l["DxDataGrid"],DxForm:l["DxForm"],DxTreeView:l["DxTreeView"]}})],D);var g=D,w=g,F=w,O=r("17cc"),R=Object(O["a"])(F,n,a,!1,null,null,null);t["default"]=R.exports}}]);