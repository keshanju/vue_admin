(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-56439a58"],{"3ebb":function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return o});n("5f33"),n("f91a");var a,r=n("eb12"),i=n("ba94");(function(e){e[e["Year"]=0]="Year",e[e["Month"]=1]="Month",e[e["Date"]=2]="Date",e[e["Week"]=3]="Week",e[e["Hour"]=4]="Hour",e[e["Minute"]=5]="Minute",e[e["Second"]=6]="Second",e[e["Milliscond"]=7]="Milliscond"})(a||(a={}));var o=function(){function e(){Object(r["a"])(this,e)}return Object(i["a"])(e,[{key:"compareDate",value:function(e,t){}}],[{key:"parserDate",value:function(e){var t=Date.parse(e);return isNaN(t)?new Date:new Date(Date.parse(e.replace(/-/g,"/")))}},{key:"getNow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"yyyy-MM-dd HH:mm:ss",t=new Date,n={"M+":t.getMonth()+1,"d+":t.getDate(),"H+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var a in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+a+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?n[a]:("00"+n[a]).substr((""+n[a]).length)));return e}},{key:"convertDate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd HH:mm:ss",n={"M+":e.getMonth()+1,"d+":e.getDate(),"H+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var a in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+a+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?n[a]:("00"+n[a]).substr((""+n[a]).length)));return t}},{key:"AddTime",value:function(e,t,n){var r=this.parserDate(e);switch(t){case a.Milliscond:r.setMilliseconds(r.getMilliseconds()+n);break;case a.Date:r.setDate(r.getDate()+n);break;case a.Month:r.setMonth(r.getMonth()+n);break;case a.Week:r.setDate(r.getDate()+7*n);break}return this.convertDate(r)}},{key:"TimeIntegrate",value:function(e){var t=Math.floor(e/864e5),n=e%864e5,a=Math.floor(n/36e5),r=n%36e5,i=Math.floor(r/6e4),o=r%6e4,s=Math.round(o/1e3),c="";return t>0&&(c+=" "+t+"天 "),a>0&&(c+=" "+a+"小时 "),i>0&&(c+=" "+i+"分钟 "),s>0&&(c+=" "+s+"秒 "),c}},{key:"TimeIntegrate2",value:function(e){var t=Math.floor(e/864e5),n=e%864e5,a=Math.floor(n/36e5),r=n%36e5,i=Math.floor(r/6e4),o=r%6e4,s=(Math.round(o/1e3),"");return t>0&&(a+=24*t),a>0&&(s+=" "+a+"小时 "),i>0&&(s+=" "+i+"分钟 "),s}}]),e}()},"5cc8":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("dx-form",{ref:"dxForm1"}),n("br"),n("DxDataGrid",{ref:e.dxDataGridKey1})],1)},r=[],i=(n("4453"),n("ee95")),o=n("eb12"),s=n("ba94"),c=n("5ee8"),u=n("4e86"),l=n("5bc3"),d=n("3a61"),h=n("b2e6"),p=n("74a9"),g=n("1639"),f=n("f322"),m=function(e){function t(){return Object(o["a"])(this,t),Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments))}return Object(l["a"])(t,e),Object(s["a"])(t,[{key:"gamehotListPager",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t,n){var a,r,i,o,s,c=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=c.length>2&&void 0!==c[2]?c[2]:"",r=c.length>3&&void 0!==c[3]?c[3]:15,i=c.length>4&&void 0!==c[4]?c[4]:1,o="/staff/statistics?account_token=".concat(this.token,"&size=").concat(r,"&page=").concat(i,"&start_time=").concat(t,"&end_time=").concat(n).concat(a),e.next=6,this.httpGet(o);case 6:return s=e.sent,e.abrupt("return",s);case 8:case"end":return e.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getGameHotModel",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){var n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n="/staff/statistics/"+t+"?account_token="+this.token,e.next=3,this.httpGet(n);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}]),t}(f["a"]),y=n("3ebb"),v=n("4b0b"),b=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.dxDataGridKey1="dxDataGridKey1",e.gamehotAPI=new m,e}return Object(l["a"])(t,e),Object(s["a"])(t,[{key:"mounted",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.$parent.content_title="游戏热度",this.initComponent(),e.next=4,this.getGameHotList("","");case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"initComponent",value:function(){var e=this;this.dxDataGrid1=this.getDxInstanceByKey(this.dxDataGridKey1);var t=[{dataField:"id",caption:"编号",width:80},{allowFiltering:!0,allowSorting:!0,dataField:"game_title",caption:"所属游戏",width:180},{allowFiltering:!0,allowSorting:!0,dataField:"day_value",caption:"时间",width:120},{allowFiltering:!0,allowSorting:!0,dataField:"value",caption:"玩的次数",width:100}],n=this.getDataGridOption({onToolbarPreparing:this.onToolbarPreparingHandler,columns:t});this.dxDataGrid1.option(n),this.dxForm1=this.getDxInstanceByKey("dxForm1");var a=this.createFormItems([{dataField:"start_time",label:{text:"开始时间"},editorType:"dxDateBox",editorOptions:{type:"datetime",displayFormat:"yyyy-MM-dd 00:00:00",dateSerializationFormat:"yyyy-MM-dd 00:00:00",value:y["b"].getNow("yyyy-MM-dd 00:00:00")},validationRules:[v["a"].getRequired("请选择开始时间!")]},{dataField:"end_time",label:{text:"结束时间"},editorType:"dxDateBox",editorOptions:{type:"datetime",displayFormat:"yyyy-MM-dd 23:59:59",dateSerializationFormat:"yyyy-MM-dd 23:59:59",value:y["b"].getNow("yyyy-MM-dd 23:59:59")},validationRules:[v["a"].getRequired("请选择结束时间!")]},{itemType:"button",horizontalAlignment:"left",buttonOptions:{text:"查询",icon:"search",type:"success",onClick:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:n=e.dxForm1.option("formData"),console.log(n),e.getGameHotList(n.start_time,n.end_time);case 3:case"end":return t.stop()}},t)}));function n(){return t.apply(this,arguments)}return n}()}}]);this.dxForm1.option({colCount:6,items:a})}},{key:"getGameHotList",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t,n){var a,r=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:a=this.getDataGridPager(function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(a,i,o){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.gamehotAPI.gamehotListPager(t,n,a,i,o);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,n,a){return e.apply(this,arguments)}}()),this.dxDataGrid1.option({remoteOperations:!0,dataSource:a});case 2:case"end":return e.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"onToolbarPreparingHandler",value:function(e){e.component;var t=e.toolbarOptions.items;t.push({location:"before",widget:"dxButton",options:{icon:"refresh",text:"刷新",onClick:this.onRefreshHandler}})}},{key:"onRefreshHandler",value:function(e){this.dxDataGrid1.refresh()}}]),t}(g["a"]);b=d["a"]([Object(h["a"])({components:{DxDataGrid:p["DxDataGrid"],DxForm:p["DxForm"]}})],b);var x=b,M=x,w=M,D=n("17cc"),k=Object(D["a"])(w,a,r,!1,null,null,null);t["default"]=k.exports}}]);