(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-608be718"],{"22c6":function(e,t,r){"use strict";r.d(t,"a",function(){return p});r("4453");var n=r("ee95"),a=r("eb12"),i=r("ba94"),s=r("5ee8"),u=r("4e86"),c=r("5bc3"),o=r("f322"),p=function(e){function t(){return Object(a["a"])(this,t),Object(s["a"])(this,Object(u["a"])(t).apply(this,arguments))}return Object(c["a"])(t,e),Object(i["a"])(t,[{key:"getListPager",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t,r,n,a,i,s=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:"",r=s.length>1&&void 0!==s[1]?s[1]:15,n=s.length>2&&void 0!==s[2]?s[2]:1,a="/staff/server?account_token="+this.token+"&size="+r+"&page="+n+t,e.next=6,this.httpGet(a);case 6:return i=e.sent,e.abrupt("return",i);case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"getList",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t,r,n,a=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",r="/staff/server/lists?account_token="+this.token+"&"+t,e.next=4,this.httpGet(r);case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"setAdd",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r,n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r="/staff/server",n=t,e.next=4,this.httpPost(r,n);case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"setUpdate",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t,r){var n,a,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n="/staff/server/"+t,a=r,e.next=4,this.httpPutJson(n,a);case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}},e,this)}));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"setDelete",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r,n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r="/staff/server/"+t,n="account_token="+this.token,e.next=4,this.httpDelete(r+"?"+n);case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getModel",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r,n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r="/staff/server/"+t,n="account_token="+this.token,e.next=4,this.httpGet(r+"?"+n);case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"setBatUpdateState",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r,n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r="/staff/server/status",n=t,e.next=4,this.httpPutJson(r,n);case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"setUpdateServerOnline",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t,r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t="/staff/server/checkOnline",r="account_token="+this.token,e.next=4,this.httpPost(t,r);case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"getServerNodeError",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t,r){var n,a,i,s,u=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=u.length>2&&void 0!==u[2]?u[2]:1,a=u.length>3&&void 0!==u[3]?u[3]:15,i="/staff/statistics/speed/node/error?account_token=".concat(this.token,"&page=").concat(n,"&size=").concat(a,"&start_time=").concat(t,"&end_time=").concat(r),e.next=5,this.httpGet(i);case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}},e,this)}));function t(t,r){return e.apply(this,arguments)}return t}()}]),t}(o["a"])},4616:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("DxForm",{ref:e.dxFormKey1})],1)},a=[],i=r("77fe"),s=r.n(i),u=(r("b06f"),r("4453"),r("ee95")),c=r("eb12"),o=r("ba94"),p=r("5ee8"),h=r("4e86"),d=r("5bc3"),l=r("3a61"),v=r("b2e6"),f=r("74a9"),m=r("a60a"),x=r.n(m),k=r("1639"),b=r("22c6"),g=r("d14c"),w=r("9b13"),y=function(e){function t(){var e;return Object(c["a"])(this,t),e=Object(p["a"])(this,Object(h["a"])(t).apply(this,arguments)),e.dxFormKey1="dxFormKey1",e.nodeApi=new g["a"],e.serverApi=new b["a"],e.selectedServers=[],e}return Object(d["a"])(t,e),Object(o["a"])(t,[{key:"mounted",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.$parent.content_title="服务器组与服务器绑定",this.nodeID=Number(this.getParam("id")),this.initComponents(),e.next=5,this.getDataListByLines();case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"initComponents",value:function(){var e=this;this.dxForm1=this.getDxInstanceByKey(this.dxFormKey1);var t=[{itemType:"group",items:[{itemType:"group",colCount:2,items:[{label:{text:"服务器列表"},dataField:"data_selected_all",editorType:"dxTreeView",editorOptions:{height:500,displayExpr:"title",valueExpr:"id",searchEnabled:!0,onItemClick:function(t){-1==x.a.inArray(t.itemData,e.selectedServers)&&(e.selectedServers.push(t.itemData),e.dxTreeView2.option({dataSource:e.selectedServers}))},itemTemplate:function(e,t,r){return x()("<div />").append(x()("<span/>").text(e.title),x()("<span/>").text(" - ("+e.server+":"+e.s5_port+":"+e.s5_mobile_port+") "))}}},{label:{text:"已选服务器"},dataField:"data_selected_all_1",editorType:"dxTreeView",editorOptions:{height:500,displayExpr:"title",valueExpr:"id",searchEnabled:!0,onItemClick:function(t){var r=e.selectedServers.indexOf(t.itemData);e.selectedServers.splice(r,1);e.dxTreeView2.option({dataSource:e.selectedServers})},itemTemplate:function(e,t,r){return x()("<div />").append(x()("<span/>").text(e.title),x()("<span/>").text(" - ("+e.server+":"+e.s5_port+":"+e.s5_mobile_port+") "))}}}]}]},{itemType:"group",colCount:2,items:[{itemType:"button",horizontalAlignment:"center",buttonOptions:{text:this.submitText,type:"success",useSubmitBehavior:!0,onClick:this.onClickDoHandler}},{itemType:"button",horizontalAlignment:"center",buttonOptions:{text:"返回",type:"normal",useSubmitBehavior:!0,onClick:this.onClickBackHandler}}]}];this.dxForm1.option({width:1e3,items:t}),this.dxTreeView1=this.dxForm1.getEditor("data_selected_all"),this.dxTreeView2=this.dxForm1.getEditor("data_selected_all_1")}},{key:"getDataListByLines",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){var t,r,n,a,i,u,c,o,p,h,d,l,v,f,m,x;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.nodeApi.getModel(this.nodeID);case 2:return t=e.sent,r="node_type="+t.data.node_type,e.next=6,this.serverApi.getList(r);case 6:return n=e.sent,this.dxTreeView1.option({dataSource:n.data}),e.next=10,this.nodeApi.getNodeServerSelected(this.nodeID);case 10:a=e.sent,i=!0,u=!1,c=void 0,e.prev=14,o=s()(n.data);case 16:if(i=(p=o.next()).done){e.next=40;break}for(h=p.value,d=!0,l=!1,v=void 0,e.prev=21,f=s()(a.data);!(d=(m=f.next()).done);d=!0)x=m.value,h.id==x.server_id&&this.selectedServers.push(h);e.next=29;break;case 25:e.prev=25,e.t0=e["catch"](21),l=!0,v=e.t0;case 29:e.prev=29,e.prev=30,d||null==f.return||f.return();case 32:if(e.prev=32,!l){e.next=35;break}throw v;case 35:return e.finish(32);case 36:return e.finish(29);case 37:i=!0,e.next=16;break;case 40:e.next=46;break;case 42:e.prev=42,e.t1=e["catch"](14),u=!0,c=e.t1;case 46:e.prev=46,e.prev=47,i||null==o.return||o.return();case 49:if(e.prev=49,!u){e.next=52;break}throw c;case 52:return e.finish(49);case 53:return e.finish(46);case 54:this.dxTreeView2.option({dataSource:this.selectedServers});case 55:case"end":return e.stop()}},e,this,[[14,42,46,54],[21,25,29,37],[30,,32,36],[47,,49,53]])}));function t(){return e.apply(this,arguments)}return t}()},{key:"getDataListByPackageLines",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.nodeApi.getNodeServerSelected(this.nodeID);case 2:t=e.sent,r=t.data,this.dxTreeView2.option({dataSource:r});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"onClickDoHandler",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t){var r,n,a,i,u,c,o,p,h,d=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:for(e.prev=0,r=this.dxTreeView2.getNodes(),n=[],a=!0,i=!1,u=void 0,e.prev=6,c=s()(r);!(a=(o=c.next()).done);a=!0)p=o.value,n.push(p.key);e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](6),i=!0,u=e.t0;case 14:e.prev=14,e.prev=15,a||null==c.return||c.return();case 17:if(e.prev=17,!i){e.next=20;break}throw u;case 20:return e.finish(17);case 21:return e.finish(14);case 22:if(!(n.length<1)){e.next=25;break}return this.alert("请至少选择一个选项!再进行提交."),e.abrupt("return");case 25:return e.next=27,this.nodeApi.setNodeServerSelected(this.nodeID,n);case 27:h=e.sent,h.code==w["a"].OK||h.code==w["a"].isSame||h.code==w["a"].isSameSaveData?this.toast(function(){d.redirect("/server/node/list")}):this.errorCodeMsg(h.code,h.msg),e.next=34;break;case 31:e.prev=31,e.t1=e["catch"](0),this.error(e.t1);case 34:case"end":return e.stop()}},e,this,[[0,31],[6,10,14,22],[15,,17,21]])}));function t(t){return e.apply(this,arguments)}return t}()},{key:"onClickBackHandler",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.redirect("/server/node/list");case 1:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}]),t}(k["a"]);y=l["a"]([Object(v["a"])({components:{DxDataGrid:f["DxDataGrid"],DxForm:f["DxForm"],DxTreeView:f["DxTreeView"]}})],y);var O=y,R=O,j=R,_=r("17cc"),S=Object(_["a"])(j,n,a,!1,null,null,null);t["default"]=S.exports},d14c:function(e,t,r){"use strict";r.d(t,"a",function(){return p});r("4453");var n=r("ee95"),a=r("eb12"),i=r("ba94"),s=r("5ee8"),u=r("4e86"),c=r("5bc3"),o=r("f322"),p=function(e){function t(){return Object(a["a"])(this,t),Object(s["a"])(this,Object(u["a"])(t).apply(this,arguments))}return Object(c["a"])(t,e),Object(i["a"])(t,[{key:"getListPager",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t,r,n,a,i,s=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:"",r=s.length>1&&void 0!==s[1]?s[1]:15,n=s.length>2&&void 0!==s[2]?s[2]:1,a="/staff/node?account_token="+this.token+"&size="+r+"&page="+n+t,e.next=6,this.httpGet(a);case 6:return i=e.sent,e.abrupt("return",i);case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"getList",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t,r,n,a=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",r="/staff/node/lists?account_token="+this.token+"&"+t,e.next=4,this.httpGet(r);case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"setAdd",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r,n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r="/staff/node",n=t,e.next=4,this.httpPost(r,n);case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"setUpdate",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t,r){var n,a,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n="/staff/node/"+t,a=r,e.next=4,this.httpPut(n,a);case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}},e,this)}));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"setDelete",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r,n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r="/staff/node/"+t,n="account_token="+this.token+"&ids="+t,e.next=4,this.httpDelete(r+"?"+n);case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getModel",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r,n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r="/staff/node/"+t,n="account_token="+this.token,e.next=4,this.httpGet(r+"?"+n);case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getNodeServerSelected",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r="/staff/node/"+t+"/server?account_token="+this.token,e.next=3,this.httpGet(r);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"setNodeServerSelected",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t,r){var n,a,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n="/staff/node/"+t+"/server?account_token="+this.token,a={account_token:this.token,server_ids:r},e.next=4,this.httpPostJson(n,a);case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}},e,this)}));function t(t,r){return e.apply(this,arguments)}return t}()}]),t}(o["a"])}}]);