(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-61af1612"],{"34ae":function(t,e,n){"use strict";n.d(e,"a",function(){return h}),n.d(e,"b",function(){return p});n("4453");var r=n("ee95"),a=n("eb12"),i=n("ba94"),o=n("5ee8"),c=n("4e86"),s=n("5bc3"),u=n("f322"),h=function(t){function e(){return Object(a["a"])(this,e),Object(o["a"])(this,Object(c["a"])(e).apply(this,arguments))}return Object(s["a"])(e,t),Object(i["a"])(e,[{key:"getListPager",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,n,r,a,i,o,c=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=c.length>0&&void 0!==c[0]?c[0]:"001",n=c.length>1&&void 0!==c[1]?c[1]:"",r=c.length>2&&void 0!==c[2]?c[2]:15,a=c.length>3&&void 0!==c[3]?c[3]:1,i="/staff/branch/"+e+"/invoice?account_token="+this.token+"&size="+r+"&page="+a+n,t.next=7,this.httpGet(i);case 7:return o=t.sent,t.abrupt("return",o);case 9:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"getList",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,n,r=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r.length>0&&void 0!==r[0]?r[0]:"",e="/staff/invoice?account_token="+this.token,t.next=4,this.httpGet(e);case 4:return n=t.sent,t.abrupt("return",n);case 6:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"setAdd",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var n,r,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n="/staff/invoice",r=e,t.next=4,this.httpPost(n,r);case 4:return a=t.sent,t.abrupt("return",a);case 6:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},{key:"setUpdate",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e,n){var r,a,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r="/staff/invoice/"+e,a=n,t.next=4,this.httpPut(r,a);case 4:return i=t.sent,t.abrupt("return",i);case 6:case"end":return t.stop()}},t,this)}));function e(e,n){return t.apply(this,arguments)}return e}()},{key:"setDelete",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var n,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n="/staff/invoice/"+e,r="account_token="+this.token+"&ids="+e,t.next=4,this.httpDelete(n+"?"+r);case 4:t.sent;case 5:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},{key:"getModel",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var n,r,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n="/staff/invoice/"+e,r="account_token="+this.token,t.next=4,this.httpGet(n+"?"+r);case 4:return a=t.sent,t.abrupt("return",a);case 6:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},{key:"setUpdateCancel",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,n,r,a,i,o,c=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=c.length>0&&void 0!==c[0]?c[0]:"001",n=c.length>1?c[1]:void 0,r=c.length>2?c[2]:void 0,a="/staff/branch/"+e+"/invoice/cancel/"+n,i=r,t.next=7,this.httpPostJson(a,i);case 7:return o=t.sent,t.abrupt("return",o);case 9:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"getListPager_invoice",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,n,r,a,i,o=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=o.length>0&&void 0!==o[0]?o[0]:"",n=o.length>1&&void 0!==o[1]?o[1]:15,r=o.length>2&&void 0!==o[2]?o[2]:1,console.log(e),a="/staff/invoice_no?account_token=".concat(this.token,"&invoice_no=").concat(e,"&size=").concat(n,"&page=").concat(r),t.next=7,this.httpGet(a);case 7:return i=t.sent,t.abrupt("return",i);case 9:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}]),e}(u["a"]),p=function(t){function e(){return Object(a["a"])(this,e),Object(o["a"])(this,Object(c["a"])(e).apply(this,arguments))}return Object(s["a"])(e,t),Object(i["a"])(e,[{key:"getListPager",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,n,r,a,i,o,c,s=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=s.length>0&&void 0!==s[0]?s[0]:"",n=s.length>1&&void 0!==s[1]?s[1]:"",r=s.length>2&&void 0!==s[2]?s[2]:"",a=s.length>3&&void 0!==s[3]?s[3]:15,i=s.length>4&&void 0!==s[4]?s[4]:1,o="/staff/branch/invoice/logs?account_token=".concat(this.token,"&invoice_no=").concat(n,"&db_id=").concat(e,"&size=").concat(a,"&page=").concat(i).concat(r),t.next=8,this.httpGet(o);case 8:return c=t.sent,t.abrupt("return",c);case 10:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}]),e}(u["a"])},ff51:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("DxForm",{ref:t.dxFormKey1})],1)},a=[],i=(n("48fb"),n("b06f"),n("4453"),n("ee95")),o=n("eb12"),c=n("ba94"),s=n("5ee8"),u=n("4e86"),h=n("5bc3"),p=n("3a61"),l=n("b2e6"),d=n("74a9"),f=n("a60a"),v=n.n(f),m=n("1639"),b=n("34ae"),g=n("9b13"),x=n("4b0b"),k=function(t){function e(){var t;return Object(o["a"])(this,e),t=Object(s["a"])(this,Object(u["a"])(e).apply(this,arguments)),t.dxFormKey1="dxFormKey1",t.dxFormData1={id:0},t.dxFormDataReset1={},t.invoiceAPI=new b["a"],t.cancelId=0,t}return Object(h["a"])(e,t),Object(c["a"])(e,[{key:"mounted",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.cancelId=Number(this.getParam("cancel_id")),this.initComponents(),!(this.ID>g["a"].zero)){t.next=5;break}return t.next=5,this.getDataModel(this.ID);case 5:this.dxFormDataReset1=v.a.extend(!0,{},this.dxFormData1);case 6:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"initComponents",value:function(){this.dxForm1=this.getDxInstanceByKey(this.dxFormKey1);var t=[{itemType:"group",caption:"更新",items:[{dataField:"cancel_desc",label:{text:"取消说明"},editorType:"dxTextArea",editorOptions:{placeholder:"请输入取消说明，至少5个字符",height:150},validationRules:[x["a"].getRequired("取消说明不能为空!")]}]},{itemType:"group",colCount:3,items:[{itemType:"button",horizontalAlignment:"center",buttonOptions:{text:this.ID>g["a"].zero?"更新":"添加",type:"success",useSubmitBehavior:!0,onClick:this.onClickDoHandler}},{itemType:"button",horizontalAlignment:"center",buttonOptions:{text:"重置",type:"normal",onClick:this.onResetHandler}},{itemType:"button",horizontalAlignment:"center",buttonOptions:{text:"返回",type:"normal",onClick:this.onClickBackHandler}}]}],e={formData:this.dxFormData1,items:t,width:500,validationGroup:"customerData"};this.dxForm1.option(e)}},{key:"onResetHandler",value:function(t){this.dxFormData1=v.a.extend(!0,{},this.dxFormDataReset1),this.dxForm1.option("formData",this.dxFormData1)}},{key:"getDataModel",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.invoiceAPI.getModel(e);case 2:n=t.sent,this.dxFormData1=n.data,this.dxForm1.option({formData:this.dxFormData1});case 5:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},{key:"onClickDoHandler",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){var n,r=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,this.validateForm(this.dxForm1)){t.next=3;break}return t.abrupt("return");case 3:return this.dxFormData1.account_token=this.token,t.next=6,this.invoiceAPI.setUpdateCancel(this.ID.toString(),this.cancelId,{account_token:this.dxFormData1.account_token,cancel_desc:this.dxFormData1.cancel_desc});case 6:n=t.sent,n.code==g["a"].OK||n.code==g["a"].isSame||n.code==g["a"].isSameSaveData?this.toast(function(){r.redirect("/order/list")}):this.errorCodeMsg(n.code,n.msg),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),this.error(t.t0);case 13:case"end":return t.stop()}},t,this,[[0,10]])}));function e(e){return t.apply(this,arguments)}return e}()},{key:"onClickBackHandler",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.redirect("/order/list");case 1:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()}]),e}(m["a"]);k=p["a"]([Object(l["a"])({components:{DxDataGrid:d["DxDataGrid"],DxForm:d["DxForm"]}})],k);var w=k,y=w,D=y,O=n("17cc"),R=Object(O["a"])(D,r,a,!1,null,null,null);e["default"]=R.exports}}]);