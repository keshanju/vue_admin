(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-672a00f0"],{"417d":function(e,t,r){"use strict";var n=r("6c85"),a=r.n(n);function i(e){if(a()(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}var s=r("ab6b"),o=r.n(s),u=r("ad81"),c=r.n(u);function d(e){if(c()(Object(e))||"[object Arguments]"===Object.prototype.toString.call(e))return o()(e)}function p(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function l(e){return i(e)||d(e)||p()}r.d(t,"a",function(){return l})},4753:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"home"},[r("DxForm",{ref:e.dxFormKey1})],1)},a=[],i=(r("b06f"),r("4453"),r("ee95")),s=r("eb12"),o=r("ba94"),u=r("5ee8"),c=r("4e86"),d=r("5bc3"),p=r("3a61"),l=r("b2e6"),h=r("74a9"),f=r("a60a"),m=r.n(f),x=r("1639"),v=r("ce5d"),g=r("4c5d"),b=r("4b0b"),y=r("9b13"),k=r("be2d"),w=r("6090"),R=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(u["a"])(this,Object(c["a"])(t).apply(this,arguments)),e.dxFormKey1="dxFormKey1",e.dxFormData1={id:0,type:0,is_recommend:0,round_times_type:1},e.dxFormDataReset1={},e.packagePriceAPI=new v["a"],e.priceID=0,e.langResourcesApi=new k["a"],e}return Object(d["a"])(t,e),Object(o["a"])(t,[{key:"mounted",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.$parent.content_title="套餐价格编辑",e.next=3,w["a"].getLangResourceDic();case 3:if(this.dsLang=e.sent,this.priceID=Number("0"+this.getParam("price_id")),this.initComponents(),!(this.priceID>y["a"].zero)){e.next=9;break}return e.next=9,this.getDataModel(this.priceID);case 9:this.dxFormDataReset1=m.a.extend(!0,{},this.dxFormData1);case 10:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"initComponents",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t,r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.dxForm1=this.getDxInstanceByKey(this.dxFormKey1),e.next=3,w["a"].getLangResourceList();case 3:t=e.sent,r=[{itemType:"group",items:[{dataField:"title",label:{text:"名称"},editorType:"dxSelectBox",editorOptions:{placeholder:"请输入价格名称",acceptCustomValue:!0,items:t,searchEnabled:!0},validationRules:[b["a"].getRequired("价格名称不能为空!")]},{dataField:"short_desc",label:{text:"简介"},editorType:"dxSelectBox",editorOptions:{placeholder:"请输入简介",height:80,acceptCustomValue:!0,items:t,searchEnabled:!0},validationRules:[b["a"].getRequired("简介不能为空!")]},{dataField:"price",label:{text:"价格(单位:分)"},editorType:"dxNumberBox",editorOptions:{displayExpr:"name",value:0,min:0},validationRules:[b["a"].getRequired("价格不能为空!")]},{dataField:"extend_type",label:{text:"延长类型"},editorType:"dxSelectBox",editorOptions:{displayExpr:"name",valueExpr:"id",dataSource:g["a"].getDictonary().data.duration_date_type},validationRules:[b["a"].getRequired("请选择延长类型!")]},{dataField:"extend_time",label:{text:"延长时间(月/分钟)"},editorType:"dxNumberBox",editorOptions:{value:0,min:0},validationRules:[b["a"].getRequired("请选择延长时间类型!")]},{dataField:"free_add_time",label:{text:"赠送分钟数"},editorType:"dxNumberBox",editorOptions:{value:0,min:0}},{dataField:"desc",label:{text:"套餐价格说明"},editorType:"dxSelectBox",editorOptions:{placeholder:"套餐价格说明",height:80,acceptCustomValue:!0,items:t,searchEnabled:!0}},{dataField:"order_num",label:{text:"排序"},editorOptions:{value:999,min:0}},{dataField:"points",label:{text:"购买积分"},editorType:"dxNumberBox",editorOptions:{value:0,min:0}},{dataField:"ref_points",label:{text:"推荐人获得积分"},editorType:"dxNumberBox",editorOptions:{value:0,min:0}},{dataField:"type",label:{text:"价格类型"},editorType:"dxSelectBox",editorOptions:{displayExpr:"name",valueExpr:"id",dataSource:g["a"].getDictonary().data.package_price_type}},{dataField:"is_recommend",label:{text:"是否推荐"},editorType:"dxSelectBox",editorOptions:{displayExpr:"name",valueExpr:"id",dataSource:g["a"].getDictonary().data.flag}},{dataField:"apple_commodity_id",label:{text:"苹果商品ID"},editorType:"dxTextBox",editorOptions:{placeholder:"请输入苹果商店商品ID."}},{dataField:"ref_add_self_time",label:{text:"推荐人赠送时长（分钟）"},editorType:"dxNumberBox",editorOptions:{placeholder:"推荐人赠送时长（分钟）",value:0}},{dataField:"ref_add_time",label:{text:"购买人赠送时长（分钟）"},editorType:"dxNumberBox",editorOptions:{placeholder:"购买人赠送时长（分钟）",value:0}},{dataField:"round_times_type",label:{text:"推荐赠送时长周期"},editorType:"dxSelectBox",editorOptions:{displayExpr:"name",valueExpr:"id",dataSource:g["a"].getDictonary().data.round_times_type}},{dataField:"max_ref_add_time",label:{text:"推荐用户免费最大获得时间值（分钟）"},editorType:"dxNumberBox",editorOptions:{placeholder:"为0则不限制",value:0}},{dataField:"max_ref_add_self_time",label:{text:"被推荐人免费最大获得时间值（分钟）"},editorType:"dxNumberBox",editorOptions:{placeholder:"为0则不限制",value:0}}]},{itemType:"group",colCount:3,items:[{itemType:"button",horizontalAlignment:"center",buttonOptions:{text:this.priceID>y["a"].zero?"更新":"添加",type:"success",useSubmitBehavior:!0,onClick:this.onClickDoHandler}},{itemType:"button",horizontalAlignment:"center",buttonOptions:{text:"重置",type:"normal",onClick:this.onResetHandler}},{itemType:"button",horizontalAlignment:"center",buttonOptions:{text:"返回",type:"normal",onClick:this.onClickBackHandler}}]}],n={formData:this.dxFormData1,items:r,width:800,validationGroup:"customerData"},this.dxForm1.option(n);case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"onResetHandler",value:function(e){this.dxFormData1=m.a.extend(!0,{},this.dxFormDataReset1),this.dxForm1.option("formData",this.dxFormData1)}},{key:"getDataModel",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.packagePriceAPI.getModel(this.ID,t);case 2:return r=e.sent,this.dxFormData1=r.data,e.next=6,w["a"].getLangResourceTitle(this.dsLang,this.dxFormData1.title);case 6:return this.dxFormData1.title=e.sent,e.next=9,w["a"].getLangResourceTitle(this.dsLang,this.dxFormData1.short_desc);case 9:return this.dxFormData1.short_desc=e.sent,e.next=12,w["a"].getLangResourceTitle(this.dsLang,this.dxFormData1.desc);case 12:this.dxFormData1.desc=e.sent,this.dxForm1.option({formData:this.dxFormData1});case 14:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"onClickDoHandler",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){var r,n,a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,this.validateForm(this.dxForm1)){e.next=3;break}return e.abrupt("return");case 3:return this.dxFormData1.account_token=this.token,e.next=6,w["a"].getLangResourceId(this.dsLang,this.dxFormData1.title);case 6:return this.dxFormData1.title=e.sent,e.next=9,w["a"].getLangResourceId(this.dsLang,this.dxFormData1.short_desc);case 9:return this.dxFormData1.short_desc=e.sent,e.next=12,w["a"].getLangResourceId(this.dsLang,this.dxFormData1.desc);case 12:if(this.dxFormData1.desc=e.sent,r=this.joinFormParams(this.dxFormData1),this.dxFormData1.id!=y["a"].zero){e.next=20;break}return e.next=17,this.packagePriceAPI.setAdd(this.ID,r);case 17:n=e.sent,e.next=23;break;case 20:return e.next=22,this.packagePriceAPI.setUpdate(this.ID,this.dxFormData1.id,r);case 22:n=e.sent;case 23:n.code==y["a"].OK||n.code==y["a"].isSame||n.code==y["a"].isSameSaveData?this.toast(function(){a.redirect("/package/"+a.ID+"/price")}):this.errorCodeMsg(n.code,n.msg),e.next=29;break;case 26:e.prev=26,e.t0=e["catch"](0),this.error(e.t0);case 29:case"end":return e.stop()}},e,this,[[0,26]])}));function t(t){return e.apply(this,arguments)}return t}()},{key:"onClickBackHandler",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.redirect("/package/"+this.ID+"/price");case 1:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}]),t}(x["a"]);R=p["a"]([Object(l["a"])({components:{DxDataGrid:h["DxDataGrid"],DxForm:h["DxForm"]}})],R);var O=R,D=O,F=D,_=r("17cc"),j=Object(_["a"])(F,n,a,!1,null,null,null);t["default"]=j.exports},"50cd":function(e,t,r){"use strict";var n=r("4cf4"),a=r("0763");e.exports=function(e,t,r){t in e?n.f(e,t,a(0,r)):e[t]=r}},6090:function(e,t,r){"use strict";r.d(t,"a",function(){return d});var n=r("77fe"),a=r.n(n),i=r("417d"),s=(r("4453"),r("ee95")),o=r("eb12"),u=r("ba94"),c=r("be2d"),d=function(){function e(){Object(o["a"])(this,e)}return Object(u["a"])(e,null,[{key:"getLangResourceList",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){var t,r,n,s,o,u,c,d;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.langResourcesApi.getList();case 2:for(t=e.sent,r=[],n=!0,s=!1,o=void 0,e.prev=7,u=a()(t.data);!(n=(c=u.next()).done);n=!0)d=c.value,r.push(d.title);e.next=15;break;case 11:e.prev=11,e.t0=e["catch"](7),s=!0,o=e.t0;case 15:e.prev=15,e.prev=16,n||null==u.return||u.return();case 18:if(e.prev=18,!s){e.next=21;break}throw o;case 21:return e.finish(18);case 22:return e.finish(15);case 23:return r=["选择语言字典"].concat(Object(i["a"])(r)),e.abrupt("return",r);case 25:case"end":return e.stop()}},e,this,[[7,11,15,23],[16,,18,22]])}));function t(){return e.apply(this,arguments)}return t}()},{key:"getLangResourceDic",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.langResourcesApi.getList();case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"getLangResourceTitle",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t,r){var n,i,s,o,u,c,d;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,n=r,!t){e.next=22;break}for(i=!0,s=!1,o=void 0,e.prev=6,u=a()(t);!(i=(c=u.next()).done);i=!0)d=c.value,"lang_"+d.id==r&&(n=d.title);e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](6),s=!0,o=e.t0;case 14:e.prev=14,e.prev=15,i||null==u.return||u.return();case 17:if(e.prev=17,!s){e.next=20;break}throw o;case 20:return e.finish(17);case 21:return e.finish(14);case 22:return e.abrupt("return",n);case 25:e.prev=25,e.t1=e["catch"](0),console.log(e.t1);case 28:return e.abrupt("return",r);case 29:case"end":return e.stop()}},e,null,[[0,25],[6,10,14,22],[15,,17,21]])}));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getLangResourceId",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t,r){var n,i,s,o,u,c,d;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:for(n=r,i=!0,s=!1,o=void 0,e.prev=4,u=a()(t);!(i=(c=u.next()).done);i=!0)d=c.value,d.title==r&&(n="lang_"+d.id);e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](4),s=!0,o=e.t0;case 12:e.prev=12,e.prev=13,i||null==u.return||u.return();case 15:if(e.prev=15,!s){e.next=18;break}throw o;case 18:return e.finish(15);case 19:return e.finish(12);case 20:return e.abrupt("return",n);case 21:case"end":return e.stop()}},e,null,[[4,8,12,20],[13,,15,19]])}));function t(t,r){return e.apply(this,arguments)}return t}()}]),e}();d.langResourcesApi=new c["a"]},"8af1":function(e,t,r){"use strict";var n=r("8232"),a=r("471d"),i=r("7182"),s=r("44a7"),o=r("33ef"),u=r("3202"),c=r("50cd"),d=r("0811");a(a.S+a.F*!r("1969")(function(e){Array.from(e)}),"Array",{from:function(e){var t,r,a,p,l=i(e),h="function"==typeof this?this:Array,f=arguments.length,m=f>1?arguments[1]:void 0,x=void 0!==m,v=0,g=d(l);if(x&&(m=n(m,f>2?arguments[2]:void 0,2)),void 0==g||h==Array&&o(g))for(t=u(l.length),r=new h(t);t>v;v++)c(r,v,x?m(l[v],v):l[v]);else for(p=g.call(l),r=new h;!(a=p.next()).done;v++)c(r,v,x?s(p,m,[a.value,v],!0):a.value);return r.length=v,r}})},"92dd":function(e,t,r){r("4d6c"),r("8af1"),e.exports=r("836e").Array.from},"97b2":function(e,t,r){var n=r("419b"),a=r("0902")("iterator"),i=r("9191");e.exports=r("836e").isIterable=function(e){var t=Object(e);return void 0!==t[a]||"@@iterator"in t||i.hasOwnProperty(n(t))}},a945:function(e,t,r){r("98be"),r("4d6c"),e.exports=r("97b2")},ab6b:function(e,t,r){e.exports=r("92dd")},ad81:function(e,t,r){e.exports=r("a945")},be2d:function(e,t,r){"use strict";r.d(t,"a",function(){return d});r("4453");var n=r("ee95"),a=r("eb12"),i=r("ba94"),s=r("5ee8"),o=r("4e86"),u=r("5bc3"),c=r("f322"),d=function(e){function t(){return Object(a["a"])(this,t),Object(s["a"])(this,Object(o["a"])(t).apply(this,arguments))}return Object(u["a"])(t,e),Object(i["a"])(t,[{key:"getListPager",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t,r,n,a,i,s,o=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:0,r=o.length>1&&void 0!==o[1]?o[1]:"",n=o.length>2&&void 0!==o[2]?o[2]:15,a=o.length>3&&void 0!==o[3]?o[3]:1,i="/staff/language/"+t+"?account_token="+this.token+"&size="+n+"&page="+a+r,e.next=7,this.httpGet(i);case 7:return s=e.sent,e.abrupt("return",s);case 9:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"getList",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t,r,n=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n.length>0&&void 0!==n[0]?n[0]:"",t="/staff/language/lists?account_token="+this.token,e.next=4,this.httpGet(t);case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"setAdd",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r,n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r="/staff/language",n=t,e.next=4,this.httpPost(r,n);case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"setUpdate",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t,r){var n,a,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n="/staff/language/"+t,a=r,e.next=4,this.httpPut(n,a);case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}},e,this)}));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"setDelete",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r="/staff/language/"+t,n="account_token="+this.token,e.next=4,this.httpDelete(r+"?"+n);case 4:e.sent;case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getModel",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r,n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r="/staff/language/detail/"+t,n="account_token="+this.token,e.next=4,this.httpGet(r+"?"+n);case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}]),t}(c["a"])},ce5d:function(e,t,r){"use strict";r.d(t,"a",function(){return d});r("4453");var n=r("ee95"),a=r("eb12"),i=r("ba94"),s=r("5ee8"),o=r("4e86"),u=r("5bc3"),c=r("f322"),d=function(e){function t(){return Object(a["a"])(this,t),Object(s["a"])(this,Object(o["a"])(t).apply(this,arguments))}return Object(u["a"])(t,e),Object(i["a"])(t,[{key:"getListPager",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,o=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:"",n=o.length>2&&void 0!==o[2]?o[2]:15,a=o.length>3&&void 0!==o[3]?o[3]:1,i="/staff/package/"+t+"/price?account_token="+this.token+"&size="+n+"&page="+a+r,e.next=6,this.httpGet(i);case 6:return s=e.sent,e.abrupt("return",s);case 8:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getList",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r,n,a=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:"",r="/staff/package/"+t+"/price/lists?account_token="+this.token,e.next=4,this.httpGet(r);case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"setAdd",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t,r){var n,a,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n="/staff/package/"+t+"/price",a=r,e.next=4,this.httpPost(n,a);case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}},e,this)}));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"setUpdate",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t,r,n){var a,i,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a="/staff/package/"+t+"/price/"+r,i=n,e.next=4,this.httpPut(a,i);case 4:return s=e.sent,e.abrupt("return",s);case 6:case"end":return e.stop()}},e,this)}));function t(t,r,n){return e.apply(this,arguments)}return t}()},{key:"setDelete",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r="/staff/package/"+t,n="account_token="+this.token+"&ids="+t,e.next=4,this.httpDelete(r+"?"+n);case 4:e.sent;case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getModel",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t,r){var n,a,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n="/staff/package/"+t+"/price/"+r,a="account_token="+this.token,e.next=4,this.httpGet(n+"?"+a);case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}},e,this)}));function t(t,r){return e.apply(this,arguments)}return t}()}]),t}(c["a"])}}]);