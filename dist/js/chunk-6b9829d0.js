(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6b9829d0"],{3981:function(e,t,r){"use strict";r.d(t,"a",function(){return p});r("4453");var n=r("ee95"),a=r("eb12"),i=r("ba94"),c=r("5ee8"),u=r("4e86"),o=r("5bc3"),s=r("f322"),p=function(e){function t(){return Object(a["a"])(this,t),Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments))}return Object(o["a"])(t,e),Object(i["a"])(t,[{key:"getListPager",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r,n,a,i,c,u=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:"",n=u.length>2&&void 0!==u[2]?u[2]:15,a=u.length>3&&void 0!==u[3]?u[3]:1,i="/staff/cms/project/"+t+"/channel?account_token="+this.token+"&size="+n+"&page="+a+r,e.next=6,this.httpGet(i);case 6:return c=e.sent,e.abrupt("return",c);case 8:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getList",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r,n,a=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:"",r="/staff/cms/project/"+t+"/channel/lists?account_token="+this.token,e.next=4,this.httpGet(r);case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"setAdd",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t,r){var n,a,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n="/staff/cms/project/"+t+"/channel",a=r,e.next=4,this.httpPost(n,a);case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}},e,this)}));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"setUpdate",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t,r,n){var a,i,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a="/staff/cms/project/"+t+"/channel/"+r,i=n,e.next=4,this.httpPut(a,i);case 4:return c=e.sent,e.abrupt("return",c);case 6:case"end":return e.stop()}},e,this)}));function t(t,r,n){return e.apply(this,arguments)}return t}()},{key:"setDelete",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t,r){var n,a,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n="/staff/cms/project/"+t+"/channel/"+r,a="account_token="+this.token,e.next=4,this.httpDelete(n+"?"+a);case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}},e,this)}));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getModel",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t,r){var n,a,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n="/staff/cms/project/"+t+"/channel/"+r,a="account_token="+this.token,e.next=4,this.httpGet(n+"?"+a);case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}},e,this)}));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"createProjectChannelHtml",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t,r){var n,a,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n="/staff/cms/statics",a="account_token="+this.token+"&project_id="+t+"&channel_id="+(-1==r?"":r),e.next=4,this.httpPost(n,a);case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}},e,this)}));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"createWwwHtml",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r,n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r="/staff/queue/cms/statics/www_html_create?create_type=".concat(t),n="account_token=".concat(this.token),e.next=4,this.httpPost(r,n);case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"releaseWebHtml",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t,r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t="/staff/queue/cms/statics/release_web_html",r="account_token=".concat(this.token),e.next=4,this.httpPost(t,r);case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"getHtmlCreateList",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t="/staff/queue/cms/statics/www_html_create?account_token=".concat(this.token),e.next=3,this.httpGet(t);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"getCreateShellType",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t="/staff/queue/cms/statics/create_type?account_token=".concat(this.token),e.next=3,this.httpGet(t);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}]),t}(s["a"])},"417d":function(e,t,r){"use strict";var n=r("6c85"),a=r.n(n);function i(e){if(a()(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}var c=r("ab6b"),u=r.n(c),o=r("ad81"),s=r.n(o);function p(e){if(s()(Object(e))||"[object Arguments]"===Object.prototype.toString.call(e))return u()(e)}function h(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function l(e){return i(e)||p(e)||h()}r.d(t,"a",function(){return l})},"50cd":function(e,t,r){"use strict";var n=r("4cf4"),a=r("0763");e.exports=function(e,t,r){t in e?n.f(e,t,a(0,r)):e[t]=r}},"77db":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("DxForm",{ref:e.dxFormKey1})],1)},a=[],i=r("77fe"),c=r.n(i),u=(r("ab56"),r("417d")),o=(r("4453"),r("ee95")),s=r("eb12"),p=r("ba94"),h=r("5ee8"),l=r("4e86"),f=r("5bc3"),d=r("3a61"),v=r("1639"),m=r("60ae"),b=r.n(m),w=r("74a9"),x=r("9995"),g=r("3981"),y=r("f5ca"),k=r.n(y),j=r("4c5d"),O=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(h["a"])(this,Object(l["a"])(t).apply(this,arguments)),e.dxFormKey1="dxFormKey1",e.projectApi=new x["a"],e.channelApi=new g["a"],e}return Object(f["a"])(t,e),Object(p["a"])(t,[{key:"mounted",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t,r,n=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.$parent.content_title="生成静态",this.dxForm1=this.getDxInstanceByKey(this.dxFormKey1),e.next=4,this.getProjectDataList();case 4:t=e.sent,t=[{id:-1,title:"全部"}].concat(Object(u["a"])(t)),r=this.createFormItems([{dataField:"projectid",label:{text:"项目列表"},editorType:"dxSelectBox",editorOptions:{dataSource:t,displayExpr:"title",valueExpr:"id",value:-1,onValueChanged:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var r,a,i,c,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(r=n.dxForm1.getEditor("channelid"),-1==t.value){e.next=8;break}return e.next=4,n.channelApi.getList(t.value);case 4:a=e.sent,a.data&&a.data.length>0?(i=[],c=n.getChannel(a.data,0,i),o=[{id:-1,title:"全部栏目"}].concat(Object(u["a"])(c)),r.option({dataSource:o})):r.option({dataSource:[]}),e.next=9;break;case 8:r.option({dataSource:[]});case 9:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()}},{dataField:"channelid",label:{text:"栏目列表"},editorType:"dxSelectBox",editorOptions:{displayExpr:"title",valueExpr:"id",value:-1}},{itemType:"group",colCount:2,items:[{itemType:"button",horizontalAlignment:"center",buttonOptions:{text:"全站生成",type:"default",onClick:this.onClickAllCreateHandler}},{itemType:"button",horizontalAlignment:"center",buttonOptions:{text:"生成指定栏目",type:"success",onClick:this.onClickSelectedCreateHandler}}]},{itemType:"group",caption:"生成官网",items:[{dataField:"create_type",label:{text:"生成类型"},editorType:"dxSelectBox",editorOptions:{dataSource:j["a"].getDictonary().data.create_www_html,displayExpr:"name",valueExpr:"id",value:0}},{itemType:"button",horizontalAlignment:"center",buttonOptions:{text:"生成官网",type:"default",onClick:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t,r,a,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=$("<div></div>").appendTo($("body")),r=new k.a(t[0],{message:"正在生成中,请稍后......"}),r.show(),a=n.dxForm1.option("formData").create_type,e.next=6,(new g["a"]).createWwwHtml(a);case 6:i=e.sent,0==i.code?(r.hide(),t.remove(),n.alert("生成官网成功!")):(r.hide(),t.remove(),n.errorCodeMsg(i.code,i.msg));case 8:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()}}]}]),this.dxForm1.option({items:r,width:400});case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"getChannel",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=e.filter(function(e,r){return e.parent_id==t});a=a.sort(function(e,t){return e.sorts-t.sorts});var i=!0,u=!1,o=void 0;try{for(var s,p=c()(a);!(i=(s=p.next()).done);i=!0){var h=s.value;if(n>0)for(var l=0;l<n;l++)h.title="-"+h.title;r.push(h);var f=e.filter(function(e,r){return e.parent_id==t});if(f&&f.length>0){var d=n+1;this.getChannel(e,h.id,r,d)}}}catch(v){u=!0,o=v}finally{try{i||null==p.return||p.return()}finally{if(u)throw o}}return r}},{key:"onClickAllCreateHandler",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var r,n,a,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,r=this.dxForm1.option("formData"),r.projectid&&-1!=r.projectid){e.next=5;break}return this.alert("请选择一个项目再进行操作!"),e.abrupt("return");case 5:if(r.channelid){e.next=8;break}return this.alert("请选择一个栏目再进行操作!"),e.abrupt("return");case 8:return n=$("<div></div>").appendTo($("body")),a=new k.a(n[0],{message:"正在生成中,请稍后......"}),a.show(),e.next=13,this.channelApi.createProjectChannelHtml(r.projectid,-1);case 13:i=e.sent,0==i.code?(a.hide(),n.remove(),this.alert("生成成功!")):(a.hide(),n.remove(),this.errorCodeMsg(i.code,i.msg)),e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](0),this.error(e.t0);case 20:case"end":return e.stop()}},e,this,[[0,17]])}));function t(t){return e.apply(this,arguments)}return t}()},{key:"onClickSelectedCreateHandler",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t,r,n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t=this.dxForm1.option("formData"),t.projectid&&-1!=t.projectid){e.next=5;break}return this.alert("请选择一个项目再进行操作!"),e.abrupt("return");case 5:if(t.channelid){e.next=8;break}return this.alert("请选择一个栏目再进行操作!"),e.abrupt("return");case 8:return r=$("<div></div>").appendTo($("body")),n=new k.a(r[0],{message:"正在生成中,请稍后......"}),n.show(),e.next=13,this.channelApi.createProjectChannelHtml(t.projectid,t.channelid);case 13:a=e.sent,0==a.code?(n.hide(),r.remove(),this.alert("生成成功!")):(n.hide(),r.remove(),this.errorCodeMsg(a.code,a.msg)),e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](0),this.error(e.t0);case 20:case"end":return e.stop()}},e,this,[[0,17]])}));function t(){return e.apply(this,arguments)}return t}()},{key:"getProjectDataList",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.projectApi.getList();case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}]),t}(v["a"]);O=d["a"]([b()({components:{DxSelectBox:w["DxSelectBox"],DxTreeView:w["DxTreeView"],DxButton:w["DxButton"],DxForm:w["DxForm"]}})],O);var R=O,_=R,C=_,A=r("17cc"),D=Object(A["a"])(C,n,a,!1,null,null,null);t["default"]=D.exports},"8af1":function(e,t,r){"use strict";var n=r("8232"),a=r("471d"),i=r("7182"),c=r("44a7"),u=r("33ef"),o=r("3202"),s=r("50cd"),p=r("0811");a(a.S+a.F*!r("1969")(function(e){Array.from(e)}),"Array",{from:function(e){var t,r,a,h,l=i(e),f="function"==typeof this?this:Array,d=arguments.length,v=d>1?arguments[1]:void 0,m=void 0!==v,b=0,w=p(l);if(m&&(v=n(v,d>2?arguments[2]:void 0,2)),void 0==w||f==Array&&u(w))for(t=o(l.length),r=new f(t);t>b;b++)s(r,b,m?v(l[b],b):l[b]);else for(h=w.call(l),r=new f;!(a=h.next()).done;b++)s(r,b,m?c(h,v,[a.value,b],!0):a.value);return r.length=b,r}})},"92dd":function(e,t,r){r("4d6c"),r("8af1"),e.exports=r("836e").Array.from},"97b2":function(e,t,r){var n=r("419b"),a=r("0902")("iterator"),i=r("9191");e.exports=r("836e").isIterable=function(e){var t=Object(e);return void 0!==t[a]||"@@iterator"in t||i.hasOwnProperty(n(t))}},9995:function(e,t,r){"use strict";r.d(t,"a",function(){return p});r("4453");var n=r("ee95"),a=r("eb12"),i=r("ba94"),c=r("5ee8"),u=r("4e86"),o=r("5bc3"),s=r("f322"),p=function(e){function t(){return Object(a["a"])(this,t),Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments))}return Object(o["a"])(t,e),Object(i["a"])(t,[{key:"getListPager",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t,r,n,a,i,c=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:"",r=c.length>1&&void 0!==c[1]?c[1]:15,n=c.length>2&&void 0!==c[2]?c[2]:1,a="/staff/cms/project?account_token="+this.token+"&size="+r+"&page="+n+t,e.next=6,this.httpGet(a);case 6:return i=e.sent,e.abrupt("return",i);case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"getList",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t,r,n=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n.length>0&&void 0!==n[0]?n[0]:"",t="/staff/cms/project/lists?account_token="+this.token,e.next=4,this.httpGet(t);case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"setAdd",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r,n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r="/staff/cms/project",n=t,e.next=4,this.httpPost(r,n);case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"setUpdate",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t,r){var n,a,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n="/staff/cms/project/"+t,a=r,e.next=4,this.httpPutJson(n,a);case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}},e,this)}));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"setDelete",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r="/staff/cms/project/"+t,e.next=3,this.httpDelete(r+"?account_token="+this.token);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getModel",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r,n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r="/staff/cms/project/"+t,n="account_token="+this.token,e.next=4,this.httpGet(r+"?"+n);case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}]),t}(s["a"])},a945:function(e,t,r){r("98be"),r("4d6c"),e.exports=r("97b2")},ab6b:function(e,t,r){e.exports=r("92dd")},ad81:function(e,t,r){e.exports=r("a945")}}]);