(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-798f2d5e","chunk-7bb24280"],{1787:function(e,t,r){"use strict";var a=r("4f1d"),n=r("6b32"),i=r("5f84"),o=r("7182"),c=r("ed52"),s=Object.assign;e.exports=!s||r("7f67")(function(){var e={},t={},r=Symbol(),a="abcdefghijklmnopqrst";return e[r]=7,a.split("").forEach(function(e){t[e]=e}),7!=s({},e)[r]||Object.keys(s({},t)).join("")!=a})?function(e,t){var r=o(e),s=arguments.length,u=1,d=n.f,p=i.f;while(s>u){var l,h=c(arguments[u++]),f=d?a(h).concat(d(h)):a(h),m=f.length,v=0;while(m>v)p.call(h,l=f[v++])&&(r[l]=h[l])}return r}:s},"208e":function(e,t,r){e.exports=r("8b64")},3787:function(e,t,r){"use strict";r.d(t,"a",function(){return d});r("4453");var a=r("ee95"),n=r("eb12"),i=r("ba94"),o=r("5ee8"),c=r("4e86"),s=r("5bc3"),u=r("f322"),d=function(e){function t(){return Object(n["a"])(this,t),Object(o["a"])(this,Object(c["a"])(t).apply(this,arguments))}return Object(s["a"])(t,e),Object(i["a"])(t,[{key:"UserListPager",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(){var t,r,a,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:"",r=o.length>1&&void 0!==o[1]?o[1]:15,a=o.length>2&&void 0!==o[2]?o[2]:1,n="/staff/member?account_token="+this.token+"&size="+r+"&page="+a+t,e.next=6,this.httpGet(n);case 6:return i=e.sent,e.abrupt("return",i);case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"getList",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(){var t,r,a=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a.length>0&&void 0!==a[0]?a[0]:"",t="/staff/group/lists?account_token="+this.token,e.next=4,this.httpGet(t);case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"userAdd",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t){var r,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r="/staff/member",e.next=3,this.httpPost(r,t);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"userUpdate",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t,r){var a,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a="/staff/member/"+t,e.next=3,this.httpPut(a,r);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)}));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"userRePasswd",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t,r){var a,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a="/staff/member/"+t+"/password",e.next=3,this.httpPut(a,r);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)}));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getUserModel",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t){var r,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r="/staff/member/"+t+"?account_token="+this.token,e.next=3,this.httpGet(r);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"userUpdatePause",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t,r,a){var n,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n="/staff/member/branch/"+t+"/pause/"+r,e.next=3,this.httpPostJson(n,a);case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}},e,this)}));function t(t,r,a){return e.apply(this,arguments)}return t}()},{key:"setDelete",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t,r){var a,n,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a="/staff/member/"+t,n="account_token=".concat(this.token,"&delete_explain=").concat(r),e.next=4,this.httpDelete(a+"?"+n);case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}},e,this)}));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getUserRefListPager",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t,r){var a,n,i,o,c=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return c.length>2&&void 0!==c[2]?c[2]:"",a=c.length>3&&void 0!==c[3]?c[3]:15,n=c.length>4&&void 0!==c[4]?c[4]:1,i="/staff/member/refer?account_token="+this.token+"&size="+a+"&page="+n+"&member_id=".concat(t,"&refer_member_id=").concat(r),e.next=7,this.httpGet(i);case 7:return o=e.sent,e.abrupt("return",o);case 9:case"end":return e.stop()}},e,this)}));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getUserOpLogsListPager",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t,r){var a,n,i,o,c,s=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=s.length>2&&void 0!==s[2]?s[2]:"",n=s.length>3&&void 0!==s[3]?s[3]:15,i=s.length>4&&void 0!==s[4]?s[4]:1,o="/staff/member/".concat(t,"/operate/log/").concat(r,"?account_token=").concat(this.token,"&page=").concat(i,"&size=").concat(n).concat(a),e.next=6,this.httpGet(o);case 6:return c=e.sent,e.abrupt("return",c);case 8:case"end":return e.stop()}},e,this)}));function t(t,r){return e.apply(this,arguments)}return t}()}]),t}(u["a"])},6896:function(e,t,r){var a=r("471d");a(a.S+a.F,"Object",{assign:r("1787")})},"8b64":function(e,t,r){r("6896"),e.exports=r("836e").Object.assign},dc39:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("dxUserSearchForm",{on:{onSearch:e.onSearch}}),r("br"),r("DxDataGrid",{ref:e.dxDataGridKey1})],1)},n=[],i=(r("4453"),r("ee95")),o=r("eb12"),c=r("ba94"),s=r("5ee8"),u=r("4e86"),d=r("5bc3"),p=r("3a61"),l=r("b2e6"),h=r("74a9"),f=r("1639"),m=r("f322"),v=function(e){function t(){return Object(o["a"])(this,t),Object(s["a"])(this,Object(u["a"])(t).apply(this,arguments))}return Object(d["a"])(t,e),Object(c["a"])(t,[{key:"UserPrizeListPager",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t,r,a,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:"",r=o.length>1&&void 0!==o[1]?o[1]:15,a=o.length>2&&void 0!==o[2]?o[2]:1,n="/staff/member/receive?account_token="+this.token+"&size="+r+"&page="+a+t,e.next=6,this.httpGet(n);case 6:return i=e.sent,e.abrupt("return",i);case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"setPrizeUpdate",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t,r,a){var n,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n="/staff/member/receive/examine?account_token="+this.token,e.next=3,this.httpPostJson(n,{account_token:this.token,prize_id:t,status:r,details:a});case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}},e,this)}));function t(t,r,a){return e.apply(this,arguments)}return t}()}]),t}(m["a"]),b=r("4b0b"),x=r("4c5d"),y=r("9b13"),g=r("efc6"),w=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(s["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.dxDataGridKey1="dxDataGridKey1",e.userPrizeApi=new v,e}return Object(d["a"])(t,e),Object(c["a"])(t,[{key:"mounted",value:function(){this.$parent.content_title="用户领奖",this.dxDataGrid1=this.getDxInstanceByKey("dxDataGridKey1");var e=[{dataField:"id",caption:"编号",width:80},{allowFiltering:!0,allowSorting:!0,dataField:"user_mobile_num",caption:"所属用户",width:100},{dataField:"user_mail",caption:"邮箱",width:150},{dataField:"user_name",caption:"账号",width:100},{dataField:"user_nickname",caption:"昵称",width:100},{dataField:"activity_title",caption:"所属活动",width:120},{dataField:"present_title",caption:"所属奖品分类",width:100},{dataField:"present_type",caption:"奖品类型",width:80,cellTemplate:function(e,t){$("<span>").append(x["a"].getDicText(x["a"].getDictonary().data.present_type,t.value)).appendTo(e)}},{dataField:"money",caption:"现金",width:80},{dataField:"price_type",caption:"货币类型",width:80,cellTemplate:function(e,t){$("<span>").append(x["a"].getDicText(x["a"].getDictonary().data.price_type,t.value)).appendTo(e)}},{dataField:"details",caption:"快递单号",width:160},{dataField:"status",caption:"领奖状态",width:80,cellTemplate:function(e,t){$("<span>").append(x["a"].getDicText(x["a"].getDictonary().data.activity_prize_status,t.value)).appendTo(e)}},{dataField:"phone",caption:"手机号",width:110},{dataField:"email",caption:"邮件",width:120},{dataField:"address",caption:"详细地址",width:200},{dataField:"country_code",caption:"国家区号",width:80},{dataField:"create_time",caption:"创建时间",width:160},{dataField:"delivery_time",caption:"发货时间",width:160},{dataField:"receive_time",caption:"领奖时间",width:160},{dataField:"delivery_staff_id",caption:"发货管理员",width:100},{dataField:"expire_time",caption:"领取最后时间",width:160},{dataField:"id",alignment:"center",fixed:!0,fixedPosition:"right",caption:"操作",width:100,cellTemplate:this.cellEdit}],t=this.getDataGridOption({onToolbarPreparing:this.onToolbarPreparingHandler,columns:e});this.dxDataGrid1.option(t),this.getDataListPager()}},{key:"cellEdit",value:function(e,t){var r=this,a=$("<a href='javascript:void(0)'> 审核 </a>");a.bind("click",function(e){r.editDataForm({prize_id:t.key.id,status:0,details:""})}),$("<div>").append(a).appendTo(e)}},{key:"getDataListPager",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t,r=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t=this.getDataGridPager(function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t,a,n){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.userPrizeApi.UserPrizeListPager(t,a,n);case 2:return i=e.sent,e.abrupt("return",i);case 4:case"end":return e.stop()}},e)}));return function(t,r,a){return e.apply(this,arguments)}}()),this.dxDataGrid1.option({remoteOperations:!0,dataSource:t});case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"onToolbarPreparingHandler",value:function(e){var t=this,r=e.toolbarOptions.items;r.push({location:"before",widget:"dxButton",options:{icon:"refresh",text:"刷新",onClick:function(e){t.dxDataGrid1.refresh()}}})}},{key:"editDataForm",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{prize_id:0,status:0,details:""},r=this.createFormItems([{dataField:"status",label:{text:"审核状态"},editorType:"dxSelectBox",editorOptions:{placeholder:"请选择状态!",dataSource:x["a"].getDictonary().data.activity_prize_status,displayExpr:"name",valueExpr:"id"},validationRules:[b["a"].getRequired("请选择审核状态!")]},{dataField:"details",label:{text:"中奖备注"},editorType:"dxTextArea",editorOptions:{placeholder:"请输入备注信息!已发出必填!",height:80}}]);this.createPopForm({title:"审核奖品",maxWidth:500,maxHeight:300},{formData:t,items:r},{hasReset:!1},function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(r,a){var n,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=r.option("formData"),t.prev=1,t.next=4,e.userPrizeApi.setPrizeUpdate(n.prize_id,n.status,n.details);case 4:if(i=t.sent,i.code!=y["a"].OK&&i.code!=y["a"].isSame&&i.code!=y["a"].isSameSaveData){t.next=10;break}return e.toast(function(){e.dxDataGrid1.refresh()}),t.abrupt("return",!0);case 10:e.errorCodeMsg(i.code,i.msg);case 11:t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](1),e.error(t.t0);case 16:return t.abrupt("return",!1);case 17:case"end":return t.stop()}},t,null,[[1,13]])}));return function(e,r){return t.apply(this,arguments)}}())}},{key:"onSearch",value:function(e,t,r){this.setSearchKeywords("&search=user_id__equal__"+t),this.getDataListPager()}}]),t}(f["a"]);w=p["a"]([Object(l["a"])({components:{DxDataGrid:h["DxDataGrid"],DxForm:h["DxForm"],DxTreeView:h["DxTreeView"],dxUserSearchForm:g["a"]}})],w);var _=w,k=_,O=k,F=r("17cc"),D=Object(F["a"])(O,a,n,!1,null,null,null);t["default"]=D.exports},efc6:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("DxForm",{ref:"dxSearchFormKey1"})],1)},n=[],i=(r("3a23"),r("612f"),r("48fb"),r("4453"),r("ee95")),o=r("208e"),c=r.n(o),s=r("eb12"),u=r("ba94"),d=r("5ee8"),p=r("4e86"),l=r("5bc3"),h=r("3a61"),f=r("b2e6"),m=r("1639"),v=r("4b0b"),b=r("3787"),x=r("4c5d"),y=r("f042"),g=r.n(y),w=r("74a9"),_=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(d["a"])(this,Object(p["a"])(t).apply(this,arguments)),e.options={is_search_user:!1},e.mySearchFormModel={search_type:0,search_country_code:86,search_keyword:""},e}return Object(l["a"])(t,e),Object(u["a"])(t,[{key:"isEmptyObject",value:function(e){for(var t in e)return!1;return!0}},{key:"mounted",value:function(){this.options.is_search_user=!!this.is_search_user&&this.is_search_user;var e=0;e=null==this.col_count?12:0,c()(this.options,{col_count:e}),this.initControls()}},{key:"initControls",value:function(){var e=this;this.dxSearchForm1=this.getDxInstanceByKey("dxSearchFormKey1"),this.dxSearchForm1.option({formData:this.mySearchFormModel,colCount:this.options.col_count,items:[{colSpan:2,label:{text:"搜索类型"},dataField:"search_type",editorType:"dxSelectBox",editorOptions:{placeholder:"请选择搜索类型",displayExpr:"text",valueExpr:"id",dataSource:[{text:"手机号",id:0},{text:"账号",id:1},{text:"邮箱",id:2}],value:0,onValueChanged:function(t){var r=t.value,a=e.dxSearchForm1.getEditor("search_country_code");0==r?a.option({disabled:!1}):a.option({disabled:!0})}},validationRules:[v["a"].getRequired("搜索类型不能为空!")]},{colSpan:2,label:{text:"国家区号"},dataField:"search_country_code",editorType:"dxSelectBox",editorOptions:{searchEnabled:!0,placeholder:"请选择国家区号查询!",dataSource:x["a"].getCountryCode(),displayExpr:"id",valueExpr:"id"},validationRules:[v["a"].getRequired("国家区号不能为空!")]},{colSpan:3,label:{text:"关键词"},dataField:"search_keyword",editorType:"dxTextBox",editorOptions:{placeholder:"请根据类型输入关键词进行查询!精确查询数据."},validationRules:[v["a"].getRequired("关键词不能为空!")]},{colSpan:2,itemType:"button",horizontalAlignment:"left",buttonOptions:{text:"搜索",icon:"search",type:"success",onClick:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var r,a,n,i,o,c,s,u;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e.validateForm(e.dxSearchForm1)){t.next=2;break}return t.abrupt("return");case 2:if(r=[],0==e.mySearchFormModel.search_type?(r.push({name:"mobile_num",filter:"equal",keyword:e.mySearchFormModel.search_keyword}),r.push({name:"country_code",filter:"equal",keyword:e.mySearchFormModel.search_country_code.toString()})):1==e.mySearchFormModel.search_type?r.push({name:"user_name",filter:"equal",keyword:e.mySearchFormModel.search_keyword}):2==e.mySearchFormModel.search_type&&r.push({name:"mail",filter:"equal",keyword:e.mySearchFormModel.search_keyword}),e.options.is_search_user){t.next=21;break}return a=[],g.a.from(r).forEach(function(e){a.push("".concat(e.name,"__").concat(e.filter,"__").concat(e.keyword))}),n="&search="+a.join("|"),i=new b["a"],t.next=11,i.UserListPager(n);case 11:if(o=t.sent,null!=o.data&&null!=o.data.list&&0!=o.data.list.length){t.next=15;break}return e.alert("没有查询到用户信息"),t.abrupt("return");case 15:c=o.data.list[0],s=c.id,u=c.database_num.toString(),e.$emit("onSearch",r,s,u),t.next=22;break;case 21:e.$emit("onSearch",r,0,0);case 22:case"end":return t.stop()}},t)}));function r(){return t.apply(this,arguments)}return r}()}}]})}}]),t}(m["a"]);h["a"]([Object(f["b"])()],_.prototype,"is_search_user",void 0),h["a"]([Object(f["b"])()],_.prototype,"col_count",void 0),_=h["a"]([Object(f["a"])({components:{DxDataGrid:w["DxDataGrid"],DxForm:w["DxForm"],DxTreeView:w["DxTreeView"],DxPopup:w["DxPopup"],DxTextArea:w["DxTextArea"]}})],_);var k=_,O=k,F=r("17cc"),D=Object(F["a"])(O,a,n,!1,null,null,null);t["a"]=D.exports}}]);