(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7ffff3fe"],{ba469:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("DxForm",{ref:e.dxFormKey1})],1)},a=[],i=(n("4453"),n("ee95")),s=n("eb12"),u=n("ba94"),o=n("5ee8"),c=n("4e86"),l=n("5bc3"),h=n("3a61"),p=n("b2e6"),f=n("74a9"),d=n("a60a"),m=n.n(d),b=n("1639"),v=n("efee"),w=(n("3656"),n("4b0b")),x=n("9b13"),k=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(o["a"])(this,Object(c["a"])(t).apply(this,arguments)),e.dxFormKey1="dxFormKey1",e.dxFormData1={id:0,group:"",label:"",desc:"",label_sort:0},e.dxFormDataReset1={},e.newsAPI=new v["a"],e}return Object(l["a"])(t,e),Object(u["a"])(t,[{key:"mounted",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.$parent.content_title="标签编辑",!(this.ID>x["a"].zero)){e.next=6;break}return e.next=4,this.newsAPI.getLableDetail(this.ID);case 4:t=e.sent,this.dxFormData1=t.data;case 6:this.initComponents(),this.ID>x["a"].zero&&this.dxForm1.option({formData:this.dxFormData1}),this.dxFormDataReset1=m.a.extend(!0,{},this.dxFormData1);case 9:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"initComponents",value:function(){this.dxForm1=this.getDxInstanceByKey(this.dxFormKey1);var e=[{itemType:"group",items:[{dataField:"group",label:{text:"标签组名"},editorOptions:{placeholder:"请输入标签组名"},validationRules:[w["a"].getRequired("标签组名不能为空!")]},{dataField:"label",label:{text:"标签"},editorOptions:{placeholder:"请输入标签"},validationRules:[w["a"].getRequired("标签不能为空!")]},{dataField:"desc",label:{text:"描述"},editorType:"dxTextArea",editorOptions:{placeholder:"请输入描述"},validationRules:[]},{dataField:"label_sort",label:{text:"排序"},editorOptions:{placeholder:"请输入排序"},validationRules:[]}]},{itemType:"group",colCount:3,items:[{itemType:"button",horizontalAlignment:"center",buttonOptions:{text:this.ID>x["a"].zero?"更新":"添加",type:"success",useSubmitBehavior:!0,onClick:this.onClickDoHandler}},{itemType:"button",horizontalAlignment:"center",buttonOptions:{text:"重置",type:"normal",onClick:this.onResetHandler}},{itemType:"button",horizontalAlignment:"center",buttonOptions:{text:"返回",type:"normal",onClick:this.onClickBackHandler}}]}],t={formData:this.dxFormData1,items:e,width:1200,validationGroup:"customerData"};this.dxForm1.option(t)}},{key:"onResetHandler",value:function(e){this.dxFormData1=m.a.extend(!0,{},this.dxFormDataReset1),this.dxForm1.option("formData",this.dxFormData1)}},{key:"onClickDoHandler",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){var n,r,a,i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.component,e.prev=1,this.validateForm(this.dxForm1)){e.next=4;break}return e.abrupt("return");case 4:if(n.option({disabled:!0}),this.dxFormData1.account_token=this.token,r=this.joinFormParams(this.dxFormData1),this.dxFormData1.id!=x["a"].zero){e.next=13;break}return e.next=10,this.newsAPI.setAddNewsLabel(r);case 10:a=e.sent,e.next=16;break;case 13:return e.next=15,this.newsAPI.setUpdateNewsLabel(this.ID,r);case 15:a=e.sent;case 16:a.code==x["a"].OK||a.code==x["a"].isSame||a.code==x["a"].isSameSaveData?this.toast(function(){i.redirect("/sell/news/label")}):(n.option({disabled:!1}),this.errorCodeMsg(a.code,a.msg)),e.next=23;break;case 19:e.prev=19,e.t0=e["catch"](1),n.option({disabled:!1}),this.error(e.t0);case 23:case"end":return e.stop()}},e,this,[[1,19]])}));function t(t){return e.apply(this,arguments)}return t}()},{key:"onClickBackHandler",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.redirect("/sell/news/label");case 1:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}]),t}(b["a"]);k=h["a"]([Object(p["a"])({components:{DxDataGrid:f["DxDataGrid"],DxForm:f["DxForm"]}})],k);var g=k,y=g,R=y,D=n("17cc"),O=Object(D["a"])(R,r,a,!1,null,null,null);t["default"]=O.exports},efee:function(e,t,n){"use strict";n.d(t,"a",function(){return l});n("4453");var r=n("ee95"),a=n("eb12"),i=n("ba94"),s=n("5ee8"),u=n("4e86"),o=n("5bc3"),c=n("f322"),l=function(e){function t(){return Object(a["a"])(this,t),Object(s["a"])(this,Object(u["a"])(t).apply(this,arguments))}return Object(o["a"])(t,e),Object(i["a"])(t,[{key:"getListPager",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){var t,n,r,a,i,s=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:"",n=s.length>1&&void 0!==s[1]?s[1]:15,r=s.length>2&&void 0!==s[2]?s[2]:1,a="/staff/news?account_token="+this.token+"&size="+n+"&page="+r+t,e.next=6,this.httpGet(a);case 6:return i=e.sent,e.abrupt("return",i);case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"getLabelList",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){var t,n,r,a,i,s=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:"",n=s.length>1&&void 0!==s[1]?s[1]:15,r=s.length>2&&void 0!==s[2]?s[2]:1,a="/staff/news/label?account_token="+this.token+"&size="+n+"&page="+r+t,e.next=6,this.httpGet(a);case 6:return i=e.sent,e.abrupt("return",i);case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"getLableDetail",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n,r,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n="/staff/news/label/"+t,r="account_token="+this.token,e.next=4,this.httpGet(n+"?"+r);case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"setUpdateNewsLabel",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t,n){var r,a,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r="/staff/news/label/"+t,a=n,e.next=4,this.httpPut(r,a);case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"setAddNewsLabel",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n,r,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n="/staff/news/label",r=t,e.next=4,this.httpPost(n,r);case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"deleteNewsLabel",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n,r,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n="/staff/news/label/"+t,r="account_token="+this.token,e.next=4,this.httpDelete(n+"?"+r);case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getList",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){var t,n,r=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r.length>0&&void 0!==r[0]?r[0]:"",t="/staff/news/lists?account_token="+this.token,e.next=4,this.httpGet(t);case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"setAdd",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n,r,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n="/staff/news",r=t,e.next=4,this.httpPost(n,r);case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"setUpdate",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t,n){var r,a,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r="/staff/news/"+t,a=n,e.next=4,this.httpPut(r,a);case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"setDelete",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n="/staff/news/"+t,r="account_token="+this.token+"&ids="+t,e.next=4,this.httpDelete(n+"?"+r);case 4:e.sent;case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getModel",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n,r,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n="/staff/news/"+t,r="account_token="+this.token,e.next=4,this.httpGet(n+"?"+r);case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"createNewsJson",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){var t,n,r,a,i=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:"",n="/staff/cms/statics/news_json_list",r="account_token="+this.token+"&class_type="+t,e.next=5,this.httpPost(n,r);case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"createNewsDetails",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n,r,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n="/staff/cms/statics/news_info",r="account_token="+this.token+"&news_ids="+t,e.next=4,this.httpPost(n,r);case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"reCreateAllNewsDetails",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t="/staff/queue/cms/statics/news_info",n="account_token="+this.token,e.next=4,this.httpPost(t,n);case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}]),t}(c["a"])}}]);