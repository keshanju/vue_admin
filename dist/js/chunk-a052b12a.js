(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a052b12a"],{4910:function(e,t,a){"use strict";a.d(t,"a",function(){return u});a("4453");var r=a("ee95"),i=a("eb12"),o=a("ba94"),d=a("5ee8"),n=a("4e86"),l=a("5bc3"),s=a("f322"),u=function(e){function t(){return Object(i["a"])(this,t),Object(d["a"])(this,Object(n["a"])(t).apply(this,arguments))}return Object(l["a"])(t,e),Object(o["a"])(t,[{key:"gameListPager",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){var t,a,r,i,o,d=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:"",a=d.length>1&&void 0!==d[1]?d[1]:15,r=d.length>2&&void 0!==d[2]?d[2]:1,i="/staff/game?account_token="+this.token+"&size="+a+"&page="+r+t,e.next=6,this.httpGet(i);case 6:return o=e.sent,e.abrupt("return",o);case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"gameAdd",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var a,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a="/staff/game",e.next=3,this.httpPost(a,t);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"gameUpdate",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t,a){var r,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r="/staff/game/"+t,e.next=3,this.httpPut(r,a);case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"getGameModel",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var a,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a="/staff/game/"+t+"?account_token="+this.token,e.next=3,this.httpGet(a);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getListResult",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t="/staff/game/lists?account_token="+this.token,e.next=3,this.httpGet(t);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}]),t}(s["a"])},"6fa3":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("DxForm",{ref:e.dxFormKey1})],1)},i=[],o=(a("4453"),a("ee95")),d=a("eb12"),n=a("ba94"),l=a("5ee8"),s=a("4e86"),u=a("5bc3"),c=a("3a61"),p=a("b2e6"),_=a("a60a"),x=a.n(_),h=a("74a9"),g=a("1639"),m=a("4910"),b=a("4c5d"),f=a("0163"),y=a("84ec"),F=a("9b13"),v=a("4b0b"),D=function(e){function t(){var e;return Object(d["a"])(this,t),e=Object(l["a"])(this,Object(s["a"])(t).apply(this,arguments)),e.dxFormKey1="dxForm_Key_1",e.gameAPI=new m["a"],e.dxFormData1={id:0,game_type:0,is_config_id:0,is_hot:0,is_support_android:0,is_support_host_game:0,is_support_ios:0,is_support_mac:0,is_support_windows:1,is_valid:1,is_hide_bandwidth:0,android_dns_model:0,sort_num:0,is_free:0,include_region_codes:"",include_region_codes_arr:[],exclude_region_codes:"",exclude_region_codes_arr:[],free_include_region_codes:"",free_include_region_codes_arr:[],free_exclude_region_codes:"",free_exclude_region_codes_arr:[],is_perset:0,is_download_game:0},e.dxFormDataReset1={},e.uploadApi=new f["a"],e}return Object(u["a"])(t,e),Object(n["a"])(t,[{key:"mounted",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.$parent.content_title="游戏编辑",this.submitText=y["a"].Add,this.ID!==F["a"].zero&&(this.submitText=y["a"].Update),this.initComponent(),this.ID===F["a"].zero){e.next=10;break}return e.next=7,this.getGameModel(this.ID);case 7:this.j_game_background_url.attr("src",this.uploadApi.getUploadHttp+this.dxFormData1.game_background_url),this.j_game_pic_url.attr("src",this.uploadApi.getUploadHttp+this.dxFormData1.game_pic_url),this.j_big_background_image_url.attr("src",this.uploadApi.getUploadHttp+this.dxFormData1.game_background_large_url);case 10:this.dxFormDataReset1=x.a.extend(!0,{},this.dxFormData1);case 11:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"initComponent",value:function(){var e=this;this.dxForm1=this.getDxInstanceByKey(this.dxFormKey1);var t=[];t.push({dataField:"title",label:{text:"游戏名"},editorOptions:{placeholder:"请输入游戏名"},validationRules:[v["a"].getRequired("游戏名不能为空!")]}),t.push({dataField:"keywords",label:{text:"查询关键字"},editorOptions:{placeholder:"请输入查询关键字."},validationRules:[v["a"].getRequired("查询关键字不能为空!")]}),t.push({dataField:"game_info",label:{text:"游戏信息"},editorType:"dxTextArea",editorOptions:{placeholder:"请输入游戏信息."},validationRules:[v["a"].getRequired("游戏信息不能为空!")]}),t.push(this.createUploadFileFormItem(function(t){e.j_game_pic_url=t},{dataField:"game_pic_url",label:{text:"游戏图标1"},validationRules:[v["a"].getRequired("游戏图标1不能为空!")]},{name:"photo",uploadUrl:this.uploadApi.getUploadGamePicPath})),t.push(this.createUploadFileFormItem(function(t){e.j_game_background_url=t},{dataField:"game_background_url",label:{text:"游戏图标2"},validationRules:[v["a"].getRequired("游戏图标2不能为空!")]},{name:"photo",uploadUrl:this.uploadApi.getUploadGameBackGroundPath})),t.push(this.createUploadFileFormItem(function(t){e.j_big_background_image_url=t},{dataField:"game_background_large_url",label:{text:"游戏大背景图"},validationRules:[v["a"].getRequired("游戏大背景图不能为空!")]},{name:"filename",uploadUrl:this.uploadApi.getUploadNormalPath("big_background")})),t.push({dataField:"game_type",label:{text:"游戏分类"},editorType:"dxSelectBox",editorOptions:{displayExpr:"name",valueExpr:"id",dataSource:b["a"].getDictonary().data.game_area},validationRules:[v["a"].getRequired("游戏分类不能为空!")]}),t.push({dataField:"game_h1_title",label:{text:"游戏h5页面标题"},editorOptions:{placeholder:"请输入游戏h5页面标题."}}),t.push({dataField:"game_ss_rules",editorType:"dxTextArea",editorOptions:{placeholder:"请输入游戏ss规则.",height:120},label:{text:"游戏ss规则"}}),t.push({dataField:"game_ios_rules",editorOptions:{placeholder:"请输入游戏ios规则.",height:120},label:{text:"游戏ios规则"},editorType:"dxTextArea"}),t.push({dataField:"game_android_rules",editorOptions:{placeholder:"请输入游戏安卓规则.",height:120},editorType:"dxTextArea",label:{text:"游戏安卓规则"}}),t.push({dataField:"game_host_rules",editorOptions:{placeholder:"请输入主机游戏规则.",height:120},editorType:"dxTextArea",label:{text:"主机游戏规则"}}),t.push({dataField:"game_mac_rules",editorOptions:{placeholder:"请输入游戏mac规则.",height:120},editorType:"dxTextArea",label:{text:"mac游戏规则"}}),t.push({dataField:"game_vpn_rules",editorOptions:{placeholder:"请输入vpn规则.",height:120},editorType:"dxTextArea",label:{text:"vpn规则"}}),t.push({dataField:"is_support_windows",label:{text:"是否支持windows"},editorType:"dxSelectBox",editorOptions:{displayExpr:"name",valueExpr:"id",dataSource:b["a"].getDictonary().data.flag}}),t.push({dataField:"is_support_ios",label:{text:"是否支持ios"},editorType:"dxSelectBox",editorOptions:{displayExpr:"name",valueExpr:"id",dataSource:b["a"].getDictonary().data.flag}}),t.push({dataField:"is_support_android",label:{text:"是否支持安卓"},editorType:"dxSelectBox",editorOptions:{displayExpr:"name",valueExpr:"id",dataSource:b["a"].getDictonary().data.flag}}),t.push({dataField:"is_support_mac",label:{text:"是否支持mac"},editorType:"dxSelectBox",editorOptions:{displayExpr:"name",valueExpr:"id",dataSource:b["a"].getDictonary().data.flag}}),t.push({dataField:"is_support_host_game",label:{text:"是否支持主机"},editorType:"dxSelectBox",editorOptions:{displayExpr:"name",valueExpr:"id",dataSource:b["a"].getDictonary().data.flag}}),t.push({dataField:"android_package_name",label:{text:"Android包名"},editorOptions:{placeholder:"Android包名.格式为 com.app.xx"}}),t.push({dataField:"bandwidth",label:{text:"带宽速度"},editorOptions:{placeholder:"带宽速度,,例如:200k/200k 5000k/5000k 2000k/2000k 15k/15k"}}),t.push({dataField:"is_valid",label:{text:"是否有效"},editorType:"dxSelectBox",editorOptions:{displayExpr:"name",valueExpr:"id",dataSource:b["a"].getDictonary().data.flag}}),t.push({dataField:"is_hot",label:{text:"是否热门"},editorType:"dxSelectBox",editorOptions:{displayExpr:"name",valueExpr:"id",dataSource:b["a"].getDictonary().data.flag},validationRules:[v["a"].getRequired("请选择热门类型!")]}),t.push({dataField:"android_dns_model",label:{text:"安卓DNS"},editorType:"dxSelectBox",editorOptions:{displayExpr:"name",valueExpr:"id",dataSource:b["a"].getDictonary().data.android_dns_model},validationRules:[]}),t.push({dataField:"sort_num",label:{text:"Xml排序"},editorType:"dxNumberBox",editorOptions:{min:0},validationRules:[v["a"].getRequired("Xml排序不能为空!")]}),t.push({dataField:"is_free",label:{text:"是否限免"},editorType:"dxSelectBox",editorOptions:{placeholder:"请选择限免类型.",displayExpr:"name",valueExpr:"id",dataSource:b["a"].getDictonary().data.flag},validationRules:[v["a"].getRequired("请选择限免类型!")]}),t.push({dataField:"is_hide_bandwidth",label:{text:"是否隐藏带宽"},editorType:"dxSelectBox",editorOptions:{placeholder:"请选择带宽类型.",displayExpr:"name",valueExpr:"id",dataSource:b["a"].getDictonary().data.flag},validationRules:[v["a"].getRequired("请选择带宽类型!")]}),t.push({dataField:"is_download_game",label:{text:"是否下载游戏"},editorType:"dxSelectBox",editorOptions:{placeholder:"请选择下载游戏类型.",displayExpr:"name",valueExpr:"id",dataSource:b["a"].getDictonary().data.flag},validationRules:[v["a"].getRequired("请选择下载游戏类型!")]}),t.push({dataField:"include_region_codes_arr",label:{text:"包含地区"},editorType:"dxTagBox",editorOptions:{placeholder:"请选择包含地区.",displayExpr:"name",valueExpr:"id",showSelectionControls:!0,applyValueMode:"useButtons",dataSource:b["a"].getDictonary().data.region_code,onValueChanged:function(t){var a=t.value;a&&a.length>0?e.dxForm1.getEditor("exclude_region_codes_arr").option({disabled:!0}):e.dxForm1.getEditor("exclude_region_codes_arr").option({disabled:!1})}}}),t.push({dataField:"exclude_region_codes_arr",label:{text:"排除地区"},editorType:"dxTagBox",editorOptions:{placeholder:"请选择排除地区.",displayExpr:"name",valueExpr:"id",showSelectionControls:!0,applyValueMode:"useButtons",dataSource:b["a"].getDictonary().data.region_code,onValueChanged:function(t){var a=t.value;a&&a.length>0?e.dxForm1.getEditor("include_region_codes_arr").option({disabled:!0}):e.dxForm1.getEditor("include_region_codes_arr").option({disabled:!1})}}}),t.push({dataField:"free_include_region_codes_arr",label:{text:"限免包含地区"},editorType:"dxTagBox",editorOptions:{placeholder:"请选择包含地区.",displayExpr:"name",valueExpr:"id",showSelectionControls:!0,applyValueMode:"useButtons",dataSource:b["a"].getDictonary().data.region_code,onValueChanged:function(t){var a=t.value;a&&a.length>0?e.dxForm1.getEditor("free_exclude_region_codes_arr").option({disabled:!0}):e.dxForm1.getEditor("free_exclude_region_codes_arr").option({disabled:!1})}}}),t.push({dataField:"free_exclude_region_codes_arr",label:{text:"限免排除地区"},editorType:"dxTagBox",editorOptions:{placeholder:"请选择排除地区.",displayExpr:"name",valueExpr:"id",showSelectionControls:!0,applyValueMode:"useButtons",dataSource:b["a"].getDictonary().data.region_code,onValueChanged:function(t){var a=t.value;a&&a.length>0?e.dxForm1.getEditor("free_include_region_codes_arr").option({disabled:!0}):e.dxForm1.getEditor("free_include_region_codes_arr").option({disabled:!1})}}}),t.push({dataField:"vpn_prefix_route",label:{text:"前置路由"},editorType:"dxTextArea",editorOptions:{placeholder:"请输入前置路由.",height:100}}),t.push({dataField:"vpn_process_rule",label:{text:"进程规则"},editorType:"dxTextArea",editorOptions:{placeholder:"请输入进程规则.",height:100}}),t.push({dataField:"country_code",label:{text:"国家代码"},editorType:"dxTextBox",editorOptions:{placeholder:"国家代码（eg:cn）"},validationRules:[]}),t.push({dataField:"bundle_id",label:{text:"苹果Bundle_ID"},editorType:"dxTextBox",editorOptions:{placeholder:"苹果Bundle_ID"},validationRules:[]}),t.push({dataField:"ios_appid",label:{text:"苹果iOS_AppID"},editorType:"dxTextBox",editorOptions:{placeholder:"苹果iOS_AppID"},validationRules:[]}),t.push({dataField:"client_launch_config",label:{text:"游戏启动模板配置"},editorType:"dxTextArea",editorOptions:{placeholder:"请输入游戏启动模板配置",height:100},validationRules:[]}),t.push({dataField:"acc_succ_hint",label:{text:"游戏加速成功提示"},editorType:"dxTextBox",editorOptions:{placeholder:"加速成功提示 多语言使用 LANG_XXX 代替  XXX是关键词(例如: LANG_Info)"},validationRules:[]}),t.push({dataField:"is_perset",label:{text:"游戏是否预发布"},editorType:"dxSelectBox",editorOptions:{placeholder:"请选择游戏预发布类型.",displayExpr:"name",valueExpr:"id",dataSource:b["a"].getDictonary().data.flag},validationRules:[v["a"].getRequired("请选择游戏预发布类型!")]}),t.push({dataField:"ios_scheme",label:{text:"是否唤醒游戏"},editorType:"dxSelectBox",editorOptions:{placeholder:"请选择是否唤醒",displayExpr:"name",valueExpr:"id",dataSource:b["a"].getDictonary().data.flag},validationRules:[]}),t.push({dataField:"download_game_url",label:{text:"安卓游戏下载地址"},editorType:"dxTextBox",editorOptions:{placeholder:"请输入安卓游戏下载地址."},validationRules:[]}),t.push({dataField:"ios_app_id",label:{text:"iOS游戏唤起下载页面"},editorType:"dxTextBox",editorOptions:{placeholder:"请输入iOS游戏唤起ID."},validationRules:[]}),t.push({dataField:"mac_app_id",label:{text:"Mac游戏唤起下载页面"},editorType:"dxTextBox",editorOptions:{placeholder:"请输入Mac游戏唤起ID."},validationRules:[]});var a=[];a.push({itemType:"button",horizontalAlignment:"center",buttonOptions:{text:this.ID>0?y["a"].Update:y["a"].Add,type:"success",useSubmitBehavior:!0,onClick:this.onClickDoHandler}}),a.push({itemType:"button",horizontalAlignment:"center",buttonOptions:{text:"重置",type:"normal",onClick:this.onResetHandler}}),a.push({itemType:"button",horizontalAlignment:"center",buttonOptions:{text:y["a"].Back,type:"normal",useSubmitBehavior:!0,onClick:this.onClickBackHandler}});var r=[];r.push({itemType:"group",items:t},{itemType:"group",colCount:3,items:a});var i={formData:this.dxFormData1,items:r,width:800};this.dxForm1.option(i)}},{key:"onResetHandler",value:function(e){this.dxFormData1=x.a.extend(!0,{},this.dxFormDataReset1),this.dxForm1.option("formData",this.dxFormData1)}},{key:"onClickDoHandler",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t,a,r=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,this.validateForm(this.dxForm1)){e.next=3;break}return e.abrupt("return");case 3:if(this.dxFormData1.account_token=this.token,this.dxFormData1.include_region_codes=this.dxFormData1.include_region_codes_arr.join(","),this.dxFormData1.exclude_region_codes=this.dxFormData1.exclude_region_codes_arr.join(","),this.dxFormData1.free_include_region_codes=this.dxFormData1.free_include_region_codes_arr.join(","),this.dxFormData1.free_exclude_region_codes=this.dxFormData1.free_exclude_region_codes_arr.join(","),t=this.joinFormParams(this.dxFormData1),this.dxFormData1.include_region_codes&&""!=this.dxFormData1.include_region_codes?t+="&exclude_region_codes=":this.dxFormData1.exclude_region_codes&&""!=this.dxFormData1.exclude_region_codes?t+="&include_region_codes=":t+="&include_region_codes=&exclude_region_codes=",this.dxFormData1.free_include_region_codes&&""!=this.dxFormData1.free_include_region_codes?t+="&free_exclude_region_codes=":this.dxFormData1.free_exclude_region_codes&&""!=this.dxFormData1.free_exclude_region_codes?t+="&free_include_region_codes=":t+="&free_include_region_codes=&free_exclude_region_codes=",this.dxFormData1.id!=F["a"].zero){e.next=17;break}return e.next=14,this.gameAPI.gameAdd(t);case 14:a=e.sent,e.next=20;break;case 17:return e.next=19,this.gameAPI.gameUpdate(this.dxFormData1.id,t);case 19:a=e.sent;case 20:a.code==F["a"].OK||a.code==F["a"].isSame||a.code==F["a"].isSameSaveData?this.toast(function(){r.redirect("/game/list")}):this.errorCodeMsg(a.code,a.msg),e.next=26;break;case 23:e.prev=23,e.t0=e["catch"](0),this.error(e.t0);case 26:case"end":return e.stop()}},e,this,[[0,23]])}));function t(){return e.apply(this,arguments)}return t}()},{key:"onClickBackHandler",value:function(){this.redirect("/game/list")}},{key:"getGameModel",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.gameAPI.getGameModel(t);case 2:a=e.sent,this.dxFormData1=a.data,this.dxFormData1.include_region_codes_arr=this.getRegionCode(this.dxFormData1.include_region_codes),this.dxFormData1.exclude_region_codes_arr=this.getRegionCode(this.dxFormData1.exclude_region_codes),this.dxFormData1.free_include_region_codes_arr=this.getRegionCode(this.dxFormData1.free_include_region_codes),this.dxFormData1.free_exclude_region_codes_arr=this.getRegionCode(this.dxFormData1.free_exclude_region_codes),this.dxForm1.option("formData",this.dxFormData1);case 9:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}]),t}(g["a"]);D=c["a"]([Object(p["a"])({components:{DxDataGrid:h["DxDataGrid"],DxForm:h["DxForm"],DxTreeView:h["DxTreeView"]}})],D);var O=D,T=O,k=T,R=a("17cc"),w=Object(R["a"])(k,r,i,!1,null,null,null);t["default"]=w.exports}}]);