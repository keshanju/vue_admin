(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a411d744"],{6422:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("DxForm",{ref:e.dxFormKey1})],1)},a=[],s=(n("b06f"),n("4453"),n("ee95")),i=n("eb12"),o=n("ba94"),u=n("5ee8"),c=n("4e86"),h=n("5bc3"),d=n("3a61"),m=n("b2e6"),p=n("74a9"),l=n("a60a"),f=n.n(l),b=n("1639"),v=n("b995"),x=n("9b13"),k=n("4b0b"),g=function(e){function t(){var e;return Object(i["a"])(this,t),e=Object(u["a"])(this,Object(c["a"])(t).apply(this,arguments)),e.dxFormKey1="dxFormKey1",e.dxFormData1={id:0},e.dxFormDataReset1={},e.userSessionApi=new v["a"],e.sessionId=0,e.userId=0,e}return Object(h["a"])(t,e),Object(o["a"])(t,[{key:"mounted",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$parent.content_title="强制下线",this.userId=Number(this.getParam("user_id")),this.sessionId=Number(this.getParam("session_id")),this.initComponents(),this.dxFormDataReset1=f.a.extend(!0,{},this.dxFormData1);case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"initComponents",value:function(){this.dxForm1=this.getDxInstanceByKey(this.dxFormKey1);var e=[{itemType:"group",items:[{dataField:"account_admin_desc",label:{text:"描述"},editorType:"dxTextArea",editorOptions:{placeholder:"请输入描述信息",height:120},validationRules:[k["a"].getRequired("描述信息不能为空!")]}]},{itemType:"group",colCount:3,items:[{itemType:"button",horizontalAlignment:"center",buttonOptions:{text:this.ID>x["a"].zero?"更新":"添加",type:"success",useSubmitBehavior:!0,onClick:this.onClickDoHandler}},{itemType:"button",horizontalAlignment:"center",buttonOptions:{text:"返回",type:"normal",onClick:this.onClickBackHandler}}]}],t={formData:this.dxFormData1,items:e,width:500,validationGroup:"customerData"};this.dxForm1.option(t)}},{key:"onResetHandler",value:function(e){this.dxFormData1=f.a.extend(!0,{},this.dxFormDataReset1),this.dxForm1.option("formData",this.dxFormData1)}},{key:"onClickDoHandler",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t){var n,r=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,this.validateForm(this.dxForm1)){e.next=3;break}return e.abrupt("return");case 3:return this.dxFormData1.account_token=this.token,this.joinFormParams(this.dxFormData1),e.next=7,this.userSessionApi.userSessionUpdateForce(this.sessionId,{account_token:this.token,db_id:this.ID,session_id:this.sessionId,user_id:this.userId,account_admin_desc:this.dxFormData1.account_admin_desc});case 7:n=e.sent,n.code==x["a"].OK||n.code==x["a"].isSame||n.code==x["a"].isSameSaveData?this.toast(function(){r.redirect("/user/session/list")}):this.errorCodeMsg(n.code,n.msg),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),this.error(e.t0);case 14:case"end":return e.stop()}},e,this,[[0,11]])}));function t(t){return e.apply(this,arguments)}return t}()},{key:"onClickBackHandler",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.redirect("/user/session/list");case 1:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getModel",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.userSessionApi.getUserSessionModel(t);case 2:n=e.sent,this.dxFormData1=n.data,this.dxForm1.option("formData",this.dxFormData1);case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}]),t}(b["a"]);g=d["a"]([Object(m["a"])({components:{DxDataGrid:p["DxDataGrid"],DxForm:p["DxForm"]}})],g);var w=g,y=w,D=y,F=n("17cc"),O=Object(F["a"])(D,r,a,!1,null,null,null);t["default"]=O.exports},b995:function(e,t,n){"use strict";n.d(t,"a",function(){return h});n("4453");var r=n("ee95"),a=n("eb12"),s=n("ba94"),i=n("5ee8"),o=n("4e86"),u=n("5bc3"),c=n("f322"),h=function(e){function t(){return Object(a["a"])(this,t),Object(i["a"])(this,Object(o["a"])(t).apply(this,arguments))}return Object(u["a"])(t,e),Object(s["a"])(t,[{key:"UserSessionListPager",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){var t,n,r,a,s,i,o=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:"1",n=o.length>1&&void 0!==o[1]?o[1]:"",r=o.length>2&&void 0!==o[2]?o[2]:15,a=o.length>3&&void 0!==o[3]?o[3]:1,s="/staff/member/session?database_num="+t+"&account_token="+this.token+"&size="+r+"&page="+a+n,e.next=7,this.httpGet(s);case 7:return i=e.sent,e.abrupt("return",i);case 9:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"userSessionAdd",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n="/staff/member/session",e.next=3,this.httpPost(n,t);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"userSessionUpdate",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t,n){var r,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r="/staff/member/session/"+t,e.next=3,this.httpPut(r,n);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getUserSessionModel",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n="/staff/member/session/"+t+"?account_token="+this.token,e.next=3,this.httpGet(n);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"userSessionUpdateForce",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t,n){var r,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r="/staff/member/session/down",e.next=3,this.httpPostJson(r,n);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}()}]),t}(c["a"])}}]);