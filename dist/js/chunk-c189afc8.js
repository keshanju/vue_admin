(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c189afc8"],{4910:function(e,t,r){"use strict";r.d(t,"a",function(){return d});r("4453");var a=r("ee95"),n=r("eb12"),i=r("ba94"),o=r("5ee8"),s=r("4e86"),u=r("5bc3"),c=r("f322"),d=function(e){function t(){return Object(n["a"])(this,t),Object(o["a"])(this,Object(s["a"])(t).apply(this,arguments))}return Object(u["a"])(t,e),Object(i["a"])(t,[{key:"gameListPager",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(){var t,r,a,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:"",r=o.length>1&&void 0!==o[1]?o[1]:15,a=o.length>2&&void 0!==o[2]?o[2]:1,n="/staff/game?account_token="+this.token+"&size="+r+"&page="+a+t,e.next=6,this.httpGet(n);case 6:return i=e.sent,e.abrupt("return",i);case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"gameAdd",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t){var r,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r="/staff/game",e.next=3,this.httpPost(r,t);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"gameUpdate",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t,r){var a,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a="/staff/game/"+t,e.next=3,this.httpPut(a,r);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)}));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getGameModel",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t){var r,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r="/staff/game/"+t+"?account_token="+this.token,e.next=3,this.httpGet(r);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getListResult",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t="/staff/game/lists?account_token="+this.token,e.next=3,this.httpGet(t);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}]),t}(c["a"])},"59f2":function(e,t,r){"use strict";r.d(t,"a",function(){return d});r("4453");var a=r("ee95"),n=r("eb12"),i=r("ba94"),o=r("5ee8"),s=r("4e86"),u=r("5bc3"),c=r("f322"),d=function(e){function t(){return Object(n["a"])(this,t),Object(o["a"])(this,Object(s["a"])(t).apply(this,arguments))}return Object(u["a"])(t,e),Object(i["a"])(t,[{key:"AreaListPager",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(){var t,r,a,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:"",r=o.length>1&&void 0!==o[1]?o[1]:15,a=o.length>2&&void 0!==o[2]?o[2]:1,n="/staff/area?account_token="+this.token+"&size="+r+"&page="+a+t,e.next=6,this.httpGet(n);case 6:return i=e.sent,e.abrupt("return",i);case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"getListResult",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(){var t,r,a,n=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n.length>0&&void 0!==n[0]?n[0]:"",t=n.length>1&&void 0!==n[1]?n[1]:"",r="/staff/area/lists?account_token="+this.token+"&game_id="+t,e.next=5,this.httpGet(r);case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"areaAdd",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t){var r,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r="/staff/area",e.next=3,this.httpPost(r,t);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"areaUpdate",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t,r){var a,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a="/staff/area/"+t,e.next=3,this.httpPut(a,r);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)}));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getAreaModel",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t){var r,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r="/staff/area/"+t+"?account_token="+this.token,e.next=3,this.httpGet(r);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getAreaLineSelected",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t){var r,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r="/staff/area/"+t+"/line?account_token="+this.token,e.next=3,this.httpGet(r);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"setAreaLineSelected",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t,r){var a,n,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a="/staff/area/"+t+"/line?account_token="+this.token,n={account_token:this.token,line_ids:r},e.next=4,this.httpPostJson(a,n);case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}},e,this)}));function t(t,r){return e.apply(this,arguments)}return t}()}]),t}(c["a"])},d303:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"home"},[r("DxForm",{ref:e.dxFormKey1})],1)},n=[],i=(r("4453"),r("ee95")),o=r("eb12"),s=r("ba94"),u=r("5ee8"),c=r("4e86"),d=r("5bc3"),l=r("3a61"),h=r("b2e6"),p=r("74a9"),x=r("a60a"),m=r.n(x),g=r("1639"),f=r("4910"),v=r("59f2"),_=r("4b0b"),b=r("84ec"),k=r("9b13"),y=r("4c5d"),w=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(u["a"])(this,Object(c["a"])(t).apply(this,arguments)),e.dxFormKey1="dxForm_Key_1",e.areaAPI=new v["a"],e.gameAPI=new f["a"],e.dxFormData1={id:0,order_id:999,include_region_codes:"",include_region_codes_arr:[],exclude_region_codes:"",exclude_region_codes_arr:[]},e.dxFormDataReset1={},e}return Object(d["a"])(t,e),Object(s["a"])(t,[{key:"mounted",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.$parent.content_title="游戏区服编辑",this.submitText=b["a"].Add,this.ID!==k["a"].zero&&(this.submitText=b["a"].Update),this.initComponent(),this.ID===k["a"].zero){e.next=7;break}return e.next=7,this.getGameModel(this.ID);case 7:this.getGameList(),this.dxFormDataReset1=m.a.extend(!0,{},this.dxFormData1);case 9:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"initComponent",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t,r,a,n,i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.dxForm1=this.getDxInstanceByKey(this.dxFormKey1),t=[],t.push({dataField:"game_id",label:{text:"所属游戏"},editorType:"dxSelectBox",editorOptions:{placeholder:"请选择游戏",displayExpr:"title",valueExpr:"id",searchEnabled:!0,onValueChanged:function(e){i.getAreaList(e.value)}},validationRules:[_["a"].getRequired("游戏不能为空!")]}),t.push({dataField:"title",label:{text:"区服名"},editorOptions:{placeholder:"请输入区服名"},validationRules:[_["a"].getRequired("区服名不能为空!")]}),t.push(this.createUploadFileFormItem(function(e){i.area_pic=e},{dataField:"pic",label:{text:"上传图片"}},{name:"filename",uploadUrl:this.uploadApi.getUploadNormalPath("area")},!0)),t.push({dataField:"remark",label:{text:"区服备注"},editorType:"dxTextArea",editorOptions:{placeholder:"请输入区服备注"},validationRules:[_["a"].getRequired("区服备注不能为空!")]}),t.push({dataField:"order_id",label:{text:"排序"},editorType:"dxNumberBox",editorOptions:{placeholder:"排序编号",min:0}}),t.push({dataField:"game_ss_rules",label:{text:"游戏ss规则"},editorType:"dxTextArea",editorOptions:{placeholder:"游戏ss规则",height:120}}),t.push({dataField:"game_ios_rules",label:{text:"游戏ios规则"},editorType:"dxTextArea",editorOptions:{placeholder:"游戏ios规则",height:120}}),t.push({dataField:"game_android_rules",label:{text:"游戏android规则"},editorType:"dxTextArea",editorOptions:{placeholder:"游戏android规则",height:120}}),t.push({dataField:"game_host_rules",label:{text:"主机游戏规则"},editorType:"dxTextArea",editorOptions:{placeholder:"主机游戏规则",height:120}}),t.push({dataField:"game_mac_rules",label:{text:"mac游戏规则"},editorType:"dxTextArea",editorOptions:{placeholder:"mac游戏规则",height:120}}),t.push({dataField:"game_vpn_rules",label:{text:"vpn规则"},editorType:"dxTextArea",editorOptions:{placeholder:"vpn规则",height:120}}),t.push({dataField:"parent_area_id",label:{text:"上级区服"},editorType:"dxSelectBox",editorOptions:{placeholder:"请选择上级区服",displayExpr:"title",valueExpr:"id",searchEnabled:!0}}),t.push({dataField:"hint",label:{text:"玩家提醒"},editorOptions:{placeholder:"玩家提醒"}}),t.push({dataField:"include_region_codes_arr",label:{text:"包含地区"},editorType:"dxTagBox",editorOptions:{placeholder:"请选择包含地区.",displayExpr:"name",valueExpr:"id",showSelectionControls:!0,applyValueMode:"useButtons",dataSource:y["a"].getDictonary().data.region_code,onValueChanged:function(e){var t=e.value;t&&t.length>0?i.dxForm1.getEditor("exclude_region_codes_arr").option({disabled:!0}):i.dxForm1.getEditor("exclude_region_codes_arr").option({disabled:!1})}}}),t.push({dataField:"exclude_region_codes_arr",label:{text:"排除地区"},editorType:"dxTagBox",editorOptions:{placeholder:"请选择排除地区.",displayExpr:"name",valueExpr:"id",showSelectionControls:!0,applyValueMode:"useButtons",dataSource:y["a"].getDictonary().data.region_code,onValueChanged:function(e){var t=e.value;t&&t.length>0?i.dxForm1.getEditor("include_region_codes_arr").option({disabled:!0}):i.dxForm1.getEditor("include_region_codes_arr").option({disabled:!1})}}}),t.push({dataField:"vpn_prefix_route",label:{text:"前置路由"},editorType:"dxTextArea",editorOptions:{placeholder:"请输入前置路由.",height:100}}),t.push({dataField:"vpn_process_rule",label:{text:"进程规则"},editorType:"dxTextArea",editorOptions:{placeholder:"请输入进程规则.",height:100}}),r=[],r.push({itemType:"button",horizontalAlignment:"center",buttonOptions:{text:this.ID>0?b["a"].Update:b["a"].Add,type:"success",useSubmitBehavior:!0,onClick:this.onClickDoHandler}}),r.push({itemType:"button",horizontalAlignment:"center",buttonOptions:{text:"重置",type:"normal",onClick:this.onResetHandler}}),r.push({itemType:"button",horizontalAlignment:"center",buttonOptions:{text:b["a"].Back,type:"normal",useSubmitBehavior:!0,onClick:this.onClickBackHandler}}),a=[],a.push({itemType:"group",items:t},{itemType:"group",colCount:3,items:r}),n={formData:this.dxFormData1,items:a,width:800},this.dxForm1.option(n),this.dxSelectBoxGame=this.dxForm1.getEditor("game_id"),this.dxSelectBoxArea=this.dxForm1.getEditor("parent_area_id");case 29:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"onResetHandler",value:function(e){this.dxFormData1=m.a.extend(!0,{},this.dxFormDataReset1),this.dxForm1.option("formData",this.dxFormData1)}},{key:"onClickDoHandler",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t,r,a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,this.validateForm(this.dxForm1)){e.next=3;break}return e.abrupt("return");case 3:if(this.dxFormData1.account_token=this.token,this.dxFormData1.include_region_codes=this.dxFormData1.include_region_codes_arr.join(","),this.dxFormData1.exclude_region_codes=this.dxFormData1.exclude_region_codes_arr.join(","),t=this.joinFormParams(this.dxFormData1),this.dxFormData1.include_region_codes&&""!=this.dxFormData1.include_region_codes?t+="&exclude_region_codes=":this.dxFormData1.exclude_region_codes&&""!=this.dxFormData1.exclude_region_codes?t+="&include_region_codes=":t+="&include_region_codes=&exclude_region_codes=",this.dxFormData1.id!=k["a"].zero){e.next=14;break}return e.next=11,this.areaAPI.areaAdd(t);case 11:r=e.sent,e.next=17;break;case 14:return e.next=16,this.areaAPI.areaUpdate(this.dxFormData1.id,t);case 16:r=e.sent;case 17:r.code==k["a"].OK||r.code==k["a"].isSame||r.code==k["a"].isSameSaveData?this.toast(function(){a.redirect("/game/area/list")}):this.errorCodeMsg(r.code,r.msg),e.next=23;break;case 20:e.prev=20,e.t0=e["catch"](0),this.error(e.t0);case 23:case"end":return e.stop()}},e,this,[[0,20]])}));function t(){return e.apply(this,arguments)}return t}()},{key:"onClickBackHandler",value:function(){this.redirect("/game/area/list")}},{key:"getGameModel",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.areaAPI.getAreaModel(t);case 2:r=e.sent,this.dxFormData1=r.data,this.area_pic.attr("src",this.uploadApi.getUploadHttp+this.dxFormData1.pic),this.dxFormData1.include_region_codes_arr=this.getRegionCode(this.dxFormData1.include_region_codes),this.dxFormData1.exclude_region_codes_arr=this.getRegionCode(this.dxFormData1.exclude_region_codes),this.dxForm1.option("formData",this.dxFormData1);case 8:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getGameList",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.gameAPI.getListResult();case 2:t=e.sent,this.dxSelectBoxGame.option({dataSource:t.data});case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"getAreaList",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.areaAPI.getListResult("",t);case 2:r=e.sent,this.dxSelectBoxArea.option({dataSource:r.data});case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}]),t}(g["a"]);w=l["a"]([Object(h["a"])({components:{DxDataGrid:p["DxDataGrid"],DxForm:p["DxForm"],DxTreeView:p["DxTreeView"]}})],w);var F=w,O=F,R=O,D=r("17cc"),j=Object(D["a"])(R,a,n,!1,null,null,null);t["default"]=j.exports}}]);