(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cb65a5ba"],{"39ba":function(e,t,r){"use strict";r.d(t,"a",function(){return h});r("4453");var n=r("ee95"),a=r("eb12"),i=r("ba94"),u=r("5ee8"),s=r("4e86"),o=r("5bc3"),c=r("f322"),h=function(e){function t(){return Object(a["a"])(this,t),Object(u["a"])(this,Object(s["a"])(t).apply(this,arguments))}return Object(o["a"])(t,e),Object(i["a"])(t,[{key:"getListPager",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t,r,n,a,i,u=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:"",r=u.length>1&&void 0!==u[1]?u[1]:15,n=u.length>2&&void 0!==u[2]?u[2]:1,a="/staff/role?account_token="+this.token+"&size="+r+"&page="+n+t,e.next=6,this.httpGet(a);case 6:return i=e.sent,e.abrupt("return",i);case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"getList",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t,r,n=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n.length>0&&void 0!==n[0]?n[0]:"",t="/staff/role/lists?account_token="+this.token,e.next=4,this.httpGet(t);case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"setAdd",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r,n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r="/staff/role",n=t,e.next=4,this.httpPost(r,n);case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"setUpdate",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t,r){var n,a,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n="/staff/role/"+t,a=r,e.next=4,this.httpPut(n,a);case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}},e,this)}));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"setDelete",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r="/staff/role/"+t,n="account_token="+this.token+"&ids="+t,e.next=4,this.httpDelete(r+"?"+n);case 4:e.sent;case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getModel",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r,n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r="/staff/role/"+t,n="account_token="+this.token,e.next=4,this.httpGet(r+"?"+n);case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"setStaffRoleRoutePath",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t,r){var n,a,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n="/staff/role/"+t+"/route",a={account_token:this.token,route_ids:r},e.next=4,this.httpPostJson(n,a);case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}},e,this)}));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getRoleRotePathRelation",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r="/staff/role/"+t+"/route/relation?account_token="+this.token,e.next=3,this.httpGet(r);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}]),t}(c["a"])},"84f5":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"home"},[r("DxForm",{ref:e.dxFormKey1})],1)},a=[],i=r("77fe"),u=r.n(i),s=(r("4453"),r("ee95")),o=r("eb12"),c=r("ba94"),h=r("5ee8"),p=r("4e86"),l=r("5bc3"),f=r("3a61"),v=r("b2e6"),d=r("74a9"),m=r("1639"),k=r("84ec"),b=r("9b13"),g=r("f322"),w=function(e){function t(){return Object(o["a"])(this,t),Object(h["a"])(this,Object(p["a"])(t).apply(this,arguments))}return Object(l["a"])(t,e),Object(c["a"])(t,[{key:"getListPager",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){var t,r,n,a,i,u=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:"",r=u.length>1&&void 0!==u[1]?u[1]:15,n=u.length>2&&void 0!==u[2]?u[2]:1,a="/staff/layouts?account_token="+this.token+"&size="+r+"&page="+n+t,e.next=6,this.httpGet(a);case 6:return i=e.sent,e.abrupt("return",i);case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"getList",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){var t,r,n=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n.length>0&&void 0!==n[0]?n[0]:"",t="/staff/api_route?account_token="+this.token,e.next=4,this.httpGet(t);case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"setAdd",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t){var r,n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r="/staff/layouts",n=t,e.next=4,this.httpPost(r,n);case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"setUpdate",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t,r){var n,a,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n="/staff/layouts/"+t,a=r,e.next=4,this.httpPut(n,a);case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}},e,this)}));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"setDelete",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r="/staff/layouts/"+t,n="account_token="+this.token+"&ids="+t,e.next=4,this.httpDelete(r+"?"+n);case 4:e.sent;case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getModel",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t){var r,n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r="/staff/layouts/"+t,n="account_token="+this.token,e.next=4,this.httpGet(r+"?"+n);case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}]),t}(g["a"]),x=r("39ba"),y=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(h["a"])(this,Object(p["a"])(t).apply(this,arguments)),e.dxFormKey1="dxForm_Key_1",e.staffRoleAPI=new x["a"],e.routePathApi=new w,e}return Object(l["a"])(t,e),Object(c["a"])(t,[{key:"mounted",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.$parent.content_title="角色路由编辑",this.submitText=k["a"].Add,this.ID!==b["a"].zero&&(this.submitText=k["a"].Update),e.next=5,this.getRoutePathList();case 5:this.initComponent();case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"initComponent",value:function(){this.dxForm1=this.getDxInstanceByKey(this.dxFormKey1);var e=[];e.push({itemType:"button",horizontalAlignment:"center",buttonOptions:{text:this.ID>0?k["a"].Update:k["a"].Add,type:"success",useSubmitBehavior:!0,onClick:this.onClickDoHandler}}),e.push({itemType:"button",horizontalAlignment:"center",buttonOptions:{text:k["a"].Back,type:"normal",useSubmitBehavior:!0,onClick:this.onClickBackHandler}});var t=[];t.push({itemType:"group",items:[{label:{text:"角色路由"},dataField:"data_selected_all",editorType:"dxTreeView",editorOptions:{height:500,displayExpr:"title",valueExpr:"id",showCheckBoxesMode:"selectAll",searchEnabled:!0,dataSource:this.arrRoutePath,onContentReady:this.getRoleRotePathRelation}}]},{itemType:"group",colCount:3,items:e});var r={items:t,width:500};this.dxForm1.option(r),this.dxTreeView1=this.dxForm1.getEditor("data_selected_all")}},{key:"onClickDoHandler",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){var t,r,n,a,i,s,o,c,h,p=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:for(e.prev=0,t=this.dxTreeView1.getNodes(),r=[],n=!0,a=!1,i=void 0,e.prev=6,s=u()(t);!(n=(o=s.next()).done);n=!0)c=o.value,c.selected&&r.push(c.key);e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](6),a=!0,i=e.t0;case 14:e.prev=14,e.prev=15,n||null==s.return||s.return();case 17:if(e.prev=17,!a){e.next=20;break}throw i;case 20:return e.finish(17);case 21:return e.finish(14);case 22:return e.next=24,this.staffRoleAPI.setStaffRoleRoutePath(this.ID,r);case 24:h=e.sent,h.code==b["a"].OK||h.code==b["a"].isSame||h.code==b["a"].isSameSaveData?this.toast(function(){p.redirect("/staff/role/list")}):this.errorCodeMsg(h.code,h.msg),e.next=31;break;case 28:e.prev=28,e.t1=e["catch"](0),this.error(e.t1);case 31:case"end":return e.stop()}},e,this,[[0,28],[6,10,14,22],[15,,17,21]])}));function t(){return e.apply(this,arguments)}return t}()},{key:"onClickBackHandler",value:function(){this.redirect("/staff/role/list")}},{key:"getRoleRotePathRelation",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,o,c,h,p;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.component,e.next=3,this.staffRoleAPI.getRoleRotePathRelation(this.ID);case 3:for(n=e.sent,a=n.data,i=!0,s=!1,o=void 0,e.prev=8,c=u()(a);!(i=(h=c.next()).done);i=!0)p=h.value,r.selectItem(p.api_route_id);e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](8),s=!0,o=e.t0;case 16:e.prev=16,e.prev=17,i||null==c.return||c.return();case 19:if(e.prev=19,!s){e.next=22;break}throw o;case 22:return e.finish(19);case 23:return e.finish(16);case 24:case"end":return e.stop()}},e,this,[[8,12,16,24],[17,,19,23]])}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getRoutePathList",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.routePathApi.getList();case 2:t=e.sent,this.arrRoutePath=t.data;case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}]),t}(m["a"]);y=f["a"]([Object(v["a"])({components:{DxDataGrid:d["DxDataGrid"],DxForm:d["DxForm"],DxTreeView:d["DxTreeView"]}})],y);var R=y,O=R,j=O,_=r("17cc"),P=Object(_["a"])(j,n,a,!1,null,null,null);t["default"]=P.exports}}]);