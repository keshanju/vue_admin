(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e5e78b98"],{"2c32":function(e,t,r){"use strict";r.d(t,"a",function(){return p});r("4453");var n=r("ee95"),a=r("eb12"),i=r("ba94"),u=r("5ee8"),o=r("4e86"),c=r("5bc3"),s=r("f322"),p=function(e){function t(){return Object(a["a"])(this,t),Object(u["a"])(this,Object(o["a"])(t).apply(this,arguments))}return Object(c["a"])(t,e),Object(i["a"])(t,[{key:"UserGroupListPager",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t,r,n,a,i,u=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:"",r=u.length>1&&void 0!==u[1]?u[1]:15,n=u.length>2&&void 0!==u[2]?u[2]:1,a="/staff/group?account_token="+this.token+"&size="+r+"&page="+n+t,e.next=6,this.httpGet(a);case 6:return i=e.sent,e.abrupt("return",i);case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"userGroupAdd",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r="/staff/group",e.next=3,this.httpPost(r,t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"userGroupUpdate",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t,r){var n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n="/staff/group/"+t,e.next=3,this.httpPut(n,r);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}},e,this)}));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getUserGroupModel",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r="/staff/group/"+t+"?account_token="+this.token,e.next=3,this.httpGet(r);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getGroupPackageList",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r,n,a=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:"",r="/staff/group/"+t+"/package?account_token="+this.token,e.next=4,this.httpGet(r);case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"setGroupPackage",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t,r){var n,a,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n="/staff/group/"+t+"/package",a={account_token:this.token,package_id:r},e.next=4,this.httpPostJson(n,a);case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}},e,this)}));function t(t,r){return e.apply(this,arguments)}return t}()}]),t}(s["a"])},b8f5:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("DxDataGrid",{ref:e.dxDataGridKey1})],1)},a=[],i=(r("4453"),r("ee95")),u=r("eb12"),o=r("ba94"),c=r("5ee8"),s=r("4e86"),p=r("5bc3"),d=r("3a61"),l=r("b2e6"),h=r("a60a"),f=r.n(h),v=r("74a9"),g=r("1639"),w=r("2c32"),k=r("4c5d"),m=r("84ec"),b=function(e){function t(){var e;return Object(u["a"])(this,t),e=Object(c["a"])(this,Object(s["a"])(t).apply(this,arguments)),e.dxDataGridKey1="dxDataGridKey1",e.userGroupAPI=new w["a"],e}return Object(p["a"])(t,e),Object(o["a"])(t,[{key:"mounted",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$parent.content_title="用户组管理",this.initComponent(),this.getUserGroupList();case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"initComponent",value:function(){var e=this;this.dxDataGrid1=this.getDxInstanceByKey(this.dxDataGridKey1);var t=[{dataField:"id",caption:"编号",width:80},{dataField:"user_type",caption:"用户类型",cellTemplate:function(t,r){e.rowCellTemplateRender(t,r)},width:100,headerFilter:{dataSource:k["a"].getDictonary().data.user_type}},{allowFiltering:!0,allowSorting:!0,dataField:"title",caption:"组名称",width:100},{dataField:"desc",caption:"组描述",width:200},{dataField:"is_reg",caption:"是否开放注册",cellTemplate:function(t,r){var n=0==r.value?"red":"green";e.rowCellTemplateRender(t,r,n)},width:100,headerFilter:{dataSource:k["a"].getDictonary().data.group_is_reg}},{dataField:"user_vip_level_title",caption:"默认用户级别",width:100},{dataField:"default_free_points",caption:"默认赠送积分",width:100},{dataField:"create_staff_time",caption:"创建时间",width:160},{dataField:"create_staff_name",caption:"创建人",width:80},{dataField:"change_staff_time",caption:"修改时间",width:160},{dataField:"id",alignment:"center",fixed:!0,fixedPosition:"right",caption:m["a"].Operate,cellTemplate:this.cellEdit,width:140}],r=this.getDataGridOption({onToolbarPreparing:this.onToolbarPreparingHandler,columns:t,onRowClick:this.onRowClickHandler});this.dxDataGrid1.option(r)}},{key:"onRowClickHandler",value:function(e){var t=this;this.dbClick(function(){t.redirect("/user/group/edit/"+e.key.id)})}},{key:"cellEdit",value:function(e,t){var r=this,n=f()("<a href='javascript:void(0)'> 编辑 </a>");n.bind("click",function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:r.redirect("/user/group/edit/"+t.value);case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());var a=f()("<a href='javascript:void(0)'> 套餐绑定 </a>");a.bind("click",function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:r.redirect("/user/group/"+t.value+"/package/edit");case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),f()("<div>").append(n).append(" | ").append(a).appendTo(e)}},{key:"getUserGroupList",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t,r=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t=this.getDataGridPager(function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t,n,a){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.userGroupAPI.UserGroupListPager(t,n,a);case 2:return i=e.sent,e.abrupt("return",i);case 4:case"end":return e.stop()}},e)}));return function(t,r,n){return e.apply(this,arguments)}}()),this.dxDataGrid1.option({remoteOperations:!0,dataSource:t});case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"onToolbarPreparingHandler",value:function(e){e.component;var t=e.toolbarOptions.items;t.push({location:"before",widget:"dxButton",options:{text:m["a"].Add,icon:"add",onClick:this.onAddHandler}}),t.push({location:"before",widget:"dxButton",options:{icon:"refresh",text:"刷新",onClick:this.onRefreshHandler}})}},{key:"onAddHandler",value:function(e){this.redirect("/user/group/edit")}},{key:"onRefreshHandler",value:function(e){this.dxDataGrid1.refresh()}}]),t}(g["a"]);b=d["a"]([Object(l["a"])({components:{DxDataGrid:v["DxDataGrid"]}})],b);var y=b,x=y,R=x,G=r("17cc"),O=Object(G["a"])(R,n,a,!1,null,null,null);t["default"]=O.exports}}]);