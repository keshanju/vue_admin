(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-efe07a00"],{4009:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("DxDataGrid",{ref:e.dxDataGridKey1})],1)},a=[],i=(n("b06f"),n("4453"),n("ee95")),o=n("eb12"),s=n("ba94"),c=n("5ee8"),u=n("4e86"),d=n("5bc3"),l=n("3a61"),p=n("b2e6"),h=n("74a9"),f=n("a60a"),v=n.n(f),g=n("1639"),m=n("d14c"),w=n("4c5d"),k=n("9b13"),b=n("87fa"),x=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.dxDataGridKey1="dxDataGridKey1",e.nodeAPI=new m["a"],e}return Object(d["a"])(t,e),Object(s["a"])(t,[{key:"mounted",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$parent.content_title="服务器组管理",this.initComponents(),this.getDataList();case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"initComponents",value:function(){this.dxDataGrid1=this.getDxInstanceByKey(this.dxDataGridKey1);var e=[{dataField:"id",caption:"编号",width:80},{allowFiltering:!0,allowSorting:!0,dataField:"name",caption:"名称",width:120},{dataField:"is_online",caption:"是否在线",width:120,cellTemplate:function(e,t){var n=0==t.value?"red":"green";v()("<span style='color:"+n+"'>").append(w["a"].getDicText(w["a"].getDictonary().data.flag,t.value)).appendTo(e)}},{allowFiltering:!0,allowSorting:!0,dataField:"servers_user_onlines",caption:"节点人数",width:100},{dataField:"remark",caption:"备注",width:180},{dataField:"create_time",caption:"创建时间",width:160},{dataField:"create_staff_name",caption:"创建人",width:80},{dataField:"change_time",caption:"修改时间",width:160},{dataField:"change_staff_name",caption:"修改人",width:80},{fixed:!0,fixedPosition:"right",dataField:"id",alignment:"center",caption:"操作",width:200,cellTemplate:this.CellEdit}],t=this.getDataGridOption({onToolbarPreparing:this.onToolbarPreparingHandler,columns:e,onRowClick:this.onRowClickHandler,selection:{mode:"multiple",selectAllMode:"page",showCheckBoxesMode:"always"}});this.dxDataGrid1.option(t)}},{key:"onRowClickHandler",value:function(e){var t=this;this.dbClick(function(){t.redirect("/server/node/edit/"+e.key.id)})}},{key:"CellEdit",value:function(e,t){var n=this,r=this.getCreateLink("删除",function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(r){var a,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.confirm("是否确定删除?");case 2:if(a=e.sent,!a){e.next=8;break}return e.next=6,n.nodeAPI.setDelete(Number(t.value));case 6:i=e.sent,i.code==k["a"].OK||i.code==k["a"].isSame||i.code==k["a"].isSameSaveData?n.toast(function(){n.dxDataGrid1.refresh()}):n.errorCodeMsg(i.code,i.msg);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),a=this.getCreateLink("编辑",function(e){n.redirect("/server/node/edit/"+t.value)}),o=this.getCreateLink("绑定服务器",function(e){n.redirect("/server/node/server/edit/"+t.value)});v()("<div>").append(a).append(" | ").append(o).append(" | ").append(r).appendTo(e)}},{key:"onToolbarPreparingHandler",value:function(e){var t=this,n=(e.component,e.toolbarOptions.items);n.push({location:"before",widget:"dxButton",options:{text:"添加",icon:"add",onClick:this.onAddHandler}}),n.push({location:"before",widget:"dxButton",options:{text:"刷新",icon:"refresh",onClick:this.onRefreshHandler}}),n.push({location:"before",widget:"dxButton",options:{text:"批量绑定",icon:"refresh",onClick:function(){t.alert("功能开发中...")}}}),this.createSearchToolbars(n,this.dxDataGrid1.option("columns"),function(){t.getDataList()},"name",b["a"].contain)}},{key:"onRefreshHandler",value:function(e){this.dxDataGrid1.refresh()}},{key:"onAddHandler",value:function(e){this.redirect("/server/node/edit")}},{key:"getDataList",value:function(){var e=this,t=this.getDataGridPager(function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(n,r,a){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.nodeAPI.getListPager(n,r,a);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)}));return function(e,n,r){return t.apply(this,arguments)}}());this.dxDataGrid1.option({remoteOperations:!0,dataSource:t})}}]),t}(g["a"]);x=l["a"]([Object(p["a"])({components:{DxDataGrid:h["DxDataGrid"],DxForm:h["DxForm"]}})],x);var y=x,D=y,O=D,R=n("17cc"),j=Object(R["a"])(O,r,a,!1,null,null,null);t["default"]=j.exports},d14c:function(e,t,n){"use strict";n.d(t,"a",function(){return d});n("4453");var r=n("ee95"),a=n("eb12"),i=n("ba94"),o=n("5ee8"),s=n("4e86"),c=n("5bc3"),u=n("f322"),d=function(e){function t(){return Object(a["a"])(this,t),Object(o["a"])(this,Object(s["a"])(t).apply(this,arguments))}return Object(c["a"])(t,e),Object(i["a"])(t,[{key:"getListPager",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){var t,n,r,a,i,o=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:"",n=o.length>1&&void 0!==o[1]?o[1]:15,r=o.length>2&&void 0!==o[2]?o[2]:1,a="/staff/node?account_token="+this.token+"&size="+n+"&page="+r+t,e.next=6,this.httpGet(a);case 6:return i=e.sent,e.abrupt("return",i);case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"getList",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){var t,n,r,a=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",n="/staff/node/lists?account_token="+this.token+"&"+t,e.next=4,this.httpGet(n);case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"setAdd",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n,r,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n="/staff/node",r=t,e.next=4,this.httpPost(n,r);case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"setUpdate",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t,n){var r,a,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r="/staff/node/"+t,a=n,e.next=4,this.httpPut(r,a);case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"setDelete",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n,r,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n="/staff/node/"+t,r="account_token="+this.token+"&ids="+t,e.next=4,this.httpDelete(n+"?"+r);case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getModel",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n,r,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n="/staff/node/"+t,r="account_token="+this.token,e.next=4,this.httpGet(n+"?"+r);case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getNodeServerSelected",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n="/staff/node/"+t+"/server?account_token="+this.token,e.next=3,this.httpGet(n);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"setNodeServerSelected",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t,n){var r,a,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r="/staff/node/"+t+"/server?account_token="+this.token,a={account_token:this.token,server_ids:n},e.next=4,this.httpPostJson(r,a);case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}()}]),t}(u["a"])}}]);